<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N0Y2LBMRSW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-N0Y2LBMRSW');
    </script>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon-96.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    
    <!-- Primary Meta Tags -->
    <title>FREE Asset Allocation Calculator 2026 - Portfolio Optimizer India | BroBillionaire</title>
    <meta name="title" content="FREE Asset Allocation Calculator 2026 - Portfolio Optimizer India | BroBillionaire">
    <meta name="description" content="Optimize your portfolio allocation! FREE calculator for stocks, bonds, gold, real estate mix. MPT-based asset allocation with risk-return optimization 2026!">
    <meta name="keywords" content="asset allocation calculator, portfolio optimizer, stock bond allocation, investment portfolio calculator, asset mix calculator, modern portfolio theory, risk return optimizer, rebalancing calculator India 2026">
    <meta name="author" content="BroBillionaire">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://brobillionaire.com/tool-asset-allocation-optimizer.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://brobillionaire.com/tool-asset-allocation-optimizer.html">
    <meta property="og:title" content="FREE Asset Allocation Calculator - Portfolio Optimizer">
    <meta property="og:description" content="Optimize your portfolio allocation! FREE calculator for stocks, bonds, gold, real estate mix. MPT-based asset allocation with risk-return optimization.">
    <meta property="og:image" content="https://brobillionaire.com/og-image.jpg">
    <meta property="og:site_name" content="BroBillionaire">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://brobillionaire.com/tool-asset-allocation-optimizer.html">
    <meta property="twitter:title" content="FREE Asset Allocation Calculator - Portfolio Optimizer">
    <meta property="twitter:description" content="Optimize your portfolio allocation! FREE calculator for stocks, bonds, gold, real estate mix. MPT-based asset allocation.">
    <meta property="twitter:image" content="https://brobillionaire.com/og-image.jpg">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --gold: #C9A227;
            --bg-primary: #0d0d0d;
            --bg-secondary: #1a1a1a;
            --bg-card: #1a1a1a;
            --text-primary: #fff;
            --text-secondary: #999;
            --text-tertiary: #666;
            --border-color: #2a2a2a;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            padding-top: 140px;
        }
        
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 15px 0;
            background: rgba(13, 13, 13, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }
        
        .logo-img {
            width: 40px;
            height: 40px;
            border-radius: 10px;
        }
        
        .logo-text {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .nav-links {
            display: flex;
            gap: 35px;
        }
        
        .nav-link {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s ease;
        }
        
        .nav-link:hover,
        .nav-link.active {
            color: var(--gold);
        }
        
        .mobile-menu-toggle { display: none; }
        
        .breadcrumb-nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 40px;
            display: flex;
            gap: 10px;
            font-size: 0.9rem;
            color: var(--text-tertiary);
        }
        
        .breadcrumb-nav a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .breadcrumb-nav a:hover {
            color: var(--gold);
        }
        
        .breadcrumb-nav a::after {
            content: "‚Ä∫";
            margin: 0 10px;
            color: var(--text-tertiary);
        }
        
        .calculator-container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .calculator-card { background: var(--bg-card); border-radius: 16px; padding: 40px; margin-bottom: 30px; border: 1px solid var(--border-color); }
        .calculator-title { font-family: 'Playfair Display', serif; font-size: 2.8rem; color: var(--gold); margin-bottom: 10px; }
        .calculator-subtitle { color: var(--text-secondary); font-size: 1.1rem; margin-bottom: 40px; line-height: 1.6; }
        
        .input-group { margin-bottom: 30px; }
        .input-label { display: block; color: var(--gold); font-weight: 600; margin-bottom: 15px; font-size: 1.1rem; }
        .slider-container { position: relative; }
        .slider { width: 100%; height: 8px; border-radius: 5px; background: linear-gradient(to right, #2a2a2a, var(--gold)); outline: none; -webkit-appearance: none; }
        .slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 24px; height: 24px; border-radius: 50%; background: var(--gold); cursor: pointer; box-shadow: 0 0 10px rgba(201, 162, 39, 0.5); }
        .slider::-moz-range-thumb { width: 24px; height: 24px; border-radius: 50%; background: var(--gold); cursor: pointer; box-shadow: 0 0 10px rgba(201, 162, 39, 0.5); border: none; }
        .slider-value { color: var(--text-primary); font-size: 1.8rem; font-weight: 700; text-align: right; margin-top: 10px; }
        .slider-hint { color: var(--text-tertiary); font-size: 0.85rem; margin-top: 5px; }
        
        .input-field, .input-select { width: 100%; padding: 15px; background: #0a0a0a; border: 2px solid var(--border-color); border-radius: 8px; color: var(--text-primary); font-size: 1rem; transition: border-color 0.3s; }
        .input-field:focus, .input-select:focus { border-color: var(--gold); outline: none; }
        
        .calculate-btn { background: linear-gradient(135deg, #C9A227 0%, #8B7520 100%); color: #000; font-weight: 700; padding: 18px; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; width: 100%; margin-top: 20px; transition: transform 0.2s; }
        .calculate-btn:hover { transform: translateY(-2px); }
        
        .preset-buttons { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .preset-btn { background: #2a2a2a; color: var(--text-secondary); padding: 10px 20px; border: 2px solid var(--border-color); border-radius: 8px; cursor: pointer; transition: all 0.3s; font-size: 0.9rem; }
        .preset-btn:hover { border-color: var(--gold); color: var(--gold); }
        .preset-btn.active { background: var(--gold); color: #000; border-color: var(--gold); }
        
        .results-section { display: none; margin-top: 40px; }
        
        .charts-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 30px; margin-bottom: 30px; }
        .chart-container { background: rgba(10, 10, 10, 0.5); padding: 30px; border-radius: 12px; border: 1px solid var(--border-color); }
        .chart-title { color: var(--gold); font-size: 1.3rem; margin-bottom: 20px; text-align: center; font-weight: 600; }
        
        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; }
        .metric-card { background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); padding: 25px; border-radius: 12px; border-left: 5px solid var(--gold); text-align: center; }
        .metric-label { color: var(--gold); font-weight: 600; margin-bottom: 10px; font-size: 0.9rem; text-transform: uppercase; }
        .metric-value { color: var(--text-primary); font-size: 2rem; font-weight: 700; }
        
        .allocation-table { width: 100%; margin: 30px 0; border-collapse: collapse; }
        .allocation-table th, .allocation-table td { padding: 15px; text-align: left; border: 1px solid var(--border-color); }
        .allocation-table th { background: rgba(201, 162, 39, 0.1); color: var(--gold); font-weight: 600; }
        .allocation-table td { color: var(--text-secondary); }
        .allocation-bar { height: 20px; background: var(--gold); border-radius: 10px; }
        
        .strategy-box { background: rgba(201, 162, 39, 0.1); border: 2px solid var(--gold); padding: 30px; border-radius: 12px; margin-top: 30px; }
        .strategy-box h3 { color: var(--gold); margin-bottom: 20px; font-size: 1.5rem; }
        .strategy-box ul { margin: 10px 0 0 20px; color: var(--text-secondary); line-height: 1.8; }
        .strategy-box li { margin-bottom: 12px; }
        .strategy-box strong { color: var(--text-primary); }
        
        .info-box { background: rgba(52, 152, 219, 0.1); border: 2px solid #3498db; padding: 25px; border-radius: 12px; margin-top: 30px; }
        .info-box h3 { color: #3498db; margin-bottom: 15px; }
        .info-box p { color: var(--text-secondary); line-height: 1.8; margin: 0; }
        
        .faq-section { max-width: 1200px; margin: 50px auto; padding: 40px 20px; }
        .faq-title { font-family: 'Playfair Display', serif; font-size: 2.5rem; color: var(--gold); margin-bottom: 40px; text-align: center; }
        .faq-item { background: var(--bg-card); border-radius: 12px; margin-bottom: 15px; border: 1px solid var(--border-color); overflow: hidden; }
        .faq-question { padding: 25px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; color: var(--text-primary); font-weight: 600; font-size: 1.1rem; }
        .faq-question:hover { background: #222; }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; background: #0a0a0a; }
        .faq-answer.active { max-height: 2000px; }
        .faq-answer p { padding: 25px; margin: 0; color: var(--text-secondary); line-height: 1.8; }
        
        @media (max-width: 768px) {
            body { padding-top: 120px; }
            .calculator-title { font-size: 2rem; }
            .nav-links { display: none; }
            .mobile-menu-toggle { display: block; }
            .charts-grid { grid-template-columns: 1fr; }
        }
    </style>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://brobillionaire.com/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Tools",
                "item": "https://brobillionaire.com/tools.html"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Asset Allocation Optimizer"
            }
        ]
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Asset Allocation Optimizer",
        "description": "Optimize your portfolio allocation with MPT-based asset allocation calculator for stocks, bonds, gold, and real estate.",
        "url": "https://brobillionaire.com/tool-asset-allocation-optimizer.html",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "INR"
        }
    }
    </script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <img src="logo.jpg" alt="BroBillionaire Logo" class="logo-img">
                <span class="logo-text">BroBillionaire</span>
            </a>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="articles.html" class="nav-link">Articles</a>
                <a href="tools.html" class="nav-link active">Tools</a>
                <a href="about.html" class="nav-link">About</a>
            </div>
        </div>
    </nav>

    <nav class="breadcrumb-nav">
        <a href="index.html">Home</a><a href="tools.html">Tools</a><span>Asset Allocation Optimizer</span>
    </nav>

    <div class="calculator-container">
        <div class="calculator-card">
            <h1 class="calculator-title"><i class="fas fa-chart-pie"></i> Asset Allocation Optimizer</h1>
            <p class="calculator-subtitle">Optimize your portfolio allocation across stocks, bonds, gold, and real estate. Get risk-return analysis, rebalancing recommendations, and age-appropriate asset mix based on Modern Portfolio Theory (MPT).</p>
            
            <div style="margin-bottom: 30px;">
                <h3 style="color: var(--gold); margin-bottom: 15px;">Quick Presets</h3>
                <div class="preset-buttons">
                    <button class="preset-btn" onclick="applyPreset('aggressive')">üöÄ Aggressive (20-35 age)</button>
                    <button class="preset-btn" onclick="applyPreset('moderate')">‚öñÔ∏è Moderate (35-50 age)</button>
                    <button class="preset-btn" onclick="applyPreset('conservative')">üõ°Ô∏è Conservative (50-65 age)</button>
                    <button class="preset-btn" onclick="applyPreset('retirement')">üèñÔ∏è Retirement (65+ age)</button>
                </div>
            </div>
            
            <div class="input-group">
                <label class="input-label">Your Age</label>
                <input type="number" id="age" class="input-field" placeholder="35" value="35">
            </div>
            
            <div class="input-group">
                <label class="input-label">Total Portfolio Value (‚Çπ)</label>
                <input type="number" id="portfolioValue" class="input-field" placeholder="1000000" value="1000000">
            </div>
            
            <h3 style="color: var(--gold); margin: 40px 0 25px 0; font-size: 1.5rem;">Asset Allocation Mix</h3>
            
            <div class="input-group">
                <label class="input-label">Equity / Stocks: <span id="equityValue" class="slider-value">60%</span></label>
                <input type="range" id="equitySlider" class="slider" min="0" max="100" value="60" oninput="updateSliders()">
                <div class="slider-hint">Nifty, stocks, equity mutual funds</div>
            </div>
            
            <div class="input-group">
                <label class="input-label">Debt / Bonds: <span id="debtValue" class="slider-value">25%</span></label>
                <input type="range" id="debtSlider" class="slider" min="0" max="100" value="25" oninput="updateSliders()">
                <div class="slider-hint">FDs, bonds, debt funds, PPF</div>
            </div>
            
            <div class="input-group">
                <label class="input-label">Gold: <span id="goldValue" class="slider-value">10%</span></label>
                <input type="range" id="goldSlider" class="slider" min="0" max="100" value="10" oninput="updateSliders()">
                <div class="slider-hint">Physical gold, gold ETF, sovereign gold bonds</div>
            </div>
            
            <div class="input-group">
                <label class="input-label">Real Estate / Others: <span id="realEstateValue" class="slider-value">5%</span></label>
                <input type="range" id="realEstateSlider" class="slider" min="0" max="100" value="5" oninput="updateSliders()">
                <div class="slider-hint">REITs, property, alternatives</div>
            </div>
            
            <div style="background: rgba(231, 76, 60, 0.1); border: 2px solid #e74c3c; padding: 20px; border-radius: 8px; margin: 20px 0;">
                <div style="color: #e74c3c; font-weight: 600; margin-bottom: 5px;">Total Allocation</div>
                <div id="totalAllocation" style="color: var(--text-primary); font-size: 2rem; font-weight: 700;">100%</div>
            </div>
            
            <button class="calculate-btn" onclick="optimizeAllocation()">
                <i class="fas fa-calculator"></i> Optimize Portfolio
            </button>
        </div>
        
        <div class="results-section" id="resultsSection">
            <div class="calculator-card">
                <h2 style="color: var(--gold); margin-bottom: 30px; font-family: 'Playfair Display', serif; font-size: 2rem; text-align: center;">Portfolio Analysis</h2>
                
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-title">Current Allocation</div>
                        <canvas id="allocationChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-title">Recommended vs Current</div>
                        <canvas id="comparisonChart"></canvas>
                    </div>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-label">Expected Return</div>
                        <div class="metric-value" id="expectedReturn">0%</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-label">Portfolio Risk</div>
                        <div class="metric-value" id="portfolioRisk">0%</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-label">Sharpe Ratio</div>
                        <div class="metric-value" id="sharpeRatio">0</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-label">Diversification Score</div>
                        <div class="metric-value" id="diversificationScore">0/10</div>
                    </div>
                </div>
                
                <h3 style="color: var(--gold); margin: 40px 0 20px 0; font-size: 1.5rem;">Asset Allocation Breakdown</h3>
                <table class="allocation-table">
                    <thead>
                        <tr>
                            <th>Asset Class</th>
                            <th>Current %</th>
                            <th>Current Value (‚Çπ)</th>
                            <th>Recommended %</th>
                            <th>Action Required</th>
                        </tr>
                    </thead>
                    <tbody id="allocationTableBody">
                    </tbody>
                </table>
                
                <div class="strategy-box">
                    <h3><i class="fas fa-sync-alt"></i> Rebalancing Actions:</h3>
                    <div id="rebalancingActions"></div>
                </div>
                
                <div class="info-box">
                    <h3><i class="fas fa-info-circle"></i> Portfolio Assessment:</h3>
                    <p id="portfolioAssessment"></p>
                </div>
                
                <div class="strategy-box" style="background: rgba(46, 204, 113, 0.1); border-color: #2ecc71;">
                    <h3 style="color: #2ecc71;"><i class="fas fa-lightbulb"></i> Optimization Tips:</h3>
                    <ul id="optimizationTips">
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let allocationChart = null;
        let comparisonChart = null;
        
        function updateSliders() {
            document.getElementById('equityValue').textContent = document.getElementById('equitySlider').value + '%';
            document.getElementById('debtValue').textContent = document.getElementById('debtSlider').value + '%';
            document.getElementById('goldValue').textContent = document.getElementById('goldSlider').value + '%';
            document.getElementById('realEstateValue').textContent = document.getElementById('realEstateSlider').value + '%';
            
            const total = parseInt(document.getElementById('equitySlider').value) + 
                         parseInt(document.getElementById('debtSlider').value) + 
                         parseInt(document.getElementById('goldSlider').value) + 
                         parseInt(document.getElementById('realEstateSlider').value);
            
            const totalElement = document.getElementById('totalAllocation');
            totalElement.textContent = total + '%';
            totalElement.parentElement.style.borderColor = total === 100 ? '#2ecc71' : '#e74c3c';
            totalElement.parentElement.style.background = total === 100 ? 'rgba(46, 204, 113, 0.1)' : 'rgba(231, 76, 60, 0.1)';
        }
        
        function applyPreset(type) {
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const presets = {
                aggressive: {equity: 80, debt: 10, gold: 5, realEstate: 5},
                moderate: {equity: 60, debt: 25, gold: 10, realEstate: 5},
                conservative: {equity: 40, debt: 45, gold: 10, realEstate: 5},
                retirement: {equity: 25, debt: 60, gold: 10, realEstate: 5}
            };
            
            const preset = presets[type];
            document.getElementById('equitySlider').value = preset.equity;
            document.getElementById('debtSlider').value = preset.debt;
            document.getElementById('goldSlider').value = preset.gold;
            document.getElementById('realEstateSlider').value = preset.realEstate;
            updateSliders();
        }
        
        function optimizeAllocation() {
            const equity = parseInt(document.getElementById('equitySlider').value);
            const debt = parseInt(document.getElementById('debtSlider').value);
            const gold = parseInt(document.getElementById('goldSlider').value);
            const realEstate = parseInt(document.getElementById('realEstateSlider').value);
            const portfolioValue = parseFloat(document.getElementById('portfolioValue').value);
            const age = parseInt(document.getElementById('age').value);
            
            const total = equity + debt + gold + realEstate;
            if (total !== 100) {
                alert('Total allocation must equal 100%. Currently: ' + total + '%');
                return;
            }
            
            if (isNaN(portfolioValue) || portfolioValue <= 0) {
                alert('Please enter a valid portfolio value');
                return;
            }
            
            // Calculate recommended allocation based on age (Rule: Equity% = 100 - Age)
            const recommendedEquity = Math.max(20, Math.min(80, 110 - age));
            const recommendedDebt = Math.min(60, age - 10);
            const recommendedGold = 10;
            const recommendedRealEstate = 100 - recommendedEquity - recommendedDebt - recommendedGold;
            
            // Expected returns (historical India averages)
            const returns = {
                equity: 12, // Nifty historical
                debt: 7, // FD/Bond rates
                gold: 10, // Gold appreciation
                realEstate: 8 // Real estate
            };
            
            const expectedReturn = (equity * returns.equity + debt * returns.debt + 
                                   gold * returns.gold + realEstate * returns.realEstate) / 100;
            
            // Risk calculation (standard deviation)
            const risks = {equity: 18, debt: 5, gold: 15, realEstate: 12};
            const portfolioRisk = Math.sqrt(
                (equity/100)**2 * risks.equity**2 + 
                (debt/100)**2 * risks.debt**2 + 
                (gold/100)**2 * risks.gold**2 + 
                (realEstate/100)**2 * risks.realEstate**2
            );
            
            const riskFreeRate = 6; // India risk-free rate
            const sharpeRatio = (expectedReturn - riskFreeRate) / portfolioRisk;
            
            // Diversification score (0-10)
            const nonZeroAssets = [equity, debt, gold, realEstate].filter(x => x > 0).length;
            const concentration = Math.max(equity, debt, gold, realEstate);
            let diversificationScore = nonZeroAssets * 2;
            if (concentration < 70) diversificationScore += 2;
            if (concentration < 50) diversificationScore += 2;
            diversificationScore = Math.min(10, diversificationScore);
            
            // Display results
            document.getElementById('expectedReturn').textContent = expectedReturn.toFixed(2) + '%';
            document.getElementById('portfolioRisk').textContent = portfolioRisk.toFixed(2) + '%';
            document.getElementById('sharpeRatio').textContent = sharpeRatio.toFixed(2);
            document.getElementById('diversificationScore').textContent = diversificationScore + '/10';
            
            // Allocation table
            const allocations = [
                {name: 'Equity / Stocks', current: equity, recommended: recommendedEquity, color: '#3498db'},
                {name: 'Debt / Bonds', current: debt, recommended: recommendedDebt, color: '#2ecc71'},
                {name: 'Gold', current: gold, recommended: recommendedGold, color: '#f39c12'},
                {name: 'Real Estate', current: realEstate, recommended: recommendedRealEstate, color: '#9b59b6'}
            ];
            
            let tableHTML = '';
            let rebalancingHTML = '<ul style="margin: 10px 0 0 20px; color: var(--text-secondary); line-height: 1.8;">';
            
            allocations.forEach(asset => {
                const currentValue = (asset.current / 100) * portfolioValue;
                const diff = asset.current - asset.recommended;
                const action = Math.abs(diff) < 3 ? '‚úÖ Optimal' : 
                              diff > 0 ? `‚¨áÔ∏è Reduce ${Math.abs(diff).toFixed(1)}%` : 
                              `‚¨ÜÔ∏è Increase ${Math.abs(diff).toFixed(1)}%`;
                
                tableHTML += `<tr>
                    <td><strong>${asset.name}</strong></td>
                    <td>${asset.current}%</td>
                    <td>‚Çπ${currentValue.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",")}</td>
                    <td>${asset.recommended}%</td>
                    <td>${action}</td>
                </tr>`;
                
                if (Math.abs(diff) >= 5) {
                    const amount = Math.abs((diff / 100) * portfolioValue);
                    rebalancingHTML += `<li><strong>${asset.name}:</strong> ${diff > 0 ? 'Sell' : 'Buy'} ‚Çπ${amount.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ",")} worth (${Math.abs(diff).toFixed(1)}% rebalancing needed)</li>`;
                }
            });
            
            rebalancingHTML += '</ul>';
            if (rebalancingHTML.includes('<li>')) {
                document.getElementById('rebalancingActions').innerHTML = rebalancingHTML;
            } else {
                document.getElementById('rebalancingActions').innerHTML = '<p style="color: #2ecc71; font-weight: 600;"><i class="fas fa-check-circle"></i> Your portfolio is well-balanced! No immediate rebalancing required.</p>';
            }
            
            document.getElementById('allocationTableBody').innerHTML = tableHTML;
            
            // Portfolio assessment
            let assessment = `Your portfolio has an expected annual return of ${expectedReturn.toFixed(2)}% with ${portfolioRisk.toFixed(2)}% risk. `;
            if (equity > recommendedEquity + 10) {
                assessment += 'Your equity allocation is higher than age-appropriate levels, increasing volatility risk. ';
            } else if (equity < recommendedEquity - 10) {
                assessment += 'Your equity allocation is conservative for your age, potentially limiting growth. ';
            }
            if (sharpeRatio > 0.8) {
                assessment += 'Excellent risk-adjusted returns (Sharpe Ratio > 0.8).';
            } else if (sharpeRatio < 0.5) {
                assessment += 'Consider optimizing for better risk-adjusted returns (Sharpe Ratio < 0.5).';
            }
            document.getElementById('portfolioAssessment').textContent = assessment;
            
            // Optimization tips
            const tips = [];
            if (diversificationScore < 7) tips.push('Diversify across more asset classes to reduce concentration risk.');
            if (gold < 5) tips.push('Consider 5-10% gold allocation as inflation hedge and portfolio stabilizer.');
            if (equity > 80) tips.push('High equity concentration increases volatility - consider gradual profit booking.');
            if (debt < 20 && age > 40) tips.push('Increase debt allocation for capital protection as you approach retirement.');
            if (Math.abs(equity - recommendedEquity) > 15) tips.push(`For age ${age}, recommended equity allocation is ${recommendedEquity}% (current: ${equity}%).`);
            
            let tipsHTML = '';
            tips.forEach(tip => tipsHTML += `<li>${tip}</li>`);
            document.getElementById('optimizationTips').innerHTML = tipsHTML || '<li>Your portfolio allocation is optimal for your age and risk profile!</li>';
            
            // Draw charts
            drawAllocationChart(allocations);
            drawComparisonChart(allocations);
            
            document.getElementById('resultsSection').style.display = 'block';
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function drawAllocationChart(allocations) {
            const ctx = document.getElementById('allocationChart').getContext('2d');
            
            if (allocationChart) {
                allocationChart.destroy();
            }
            
            allocationChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: allocations.map(a => a.name),
                    datasets: [{
                        data: allocations.map(a => a.current),
                        backgroundColor: allocations.map(a => a.color),
                        borderWidth: 2,
                        borderColor: '#0d0d0d'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { color: '#999', padding: 15, font: { size: 12 } }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#C9A227',
                            bodyColor: '#fff',
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.parsed + '%';
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function drawComparisonChart(allocations) {
            const ctx = document.getElementById('comparisonChart').getContext('2d');
            
            if (comparisonChart) {
                comparisonChart.destroy();
            }
            
            comparisonChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: allocations.map(a => a.name.split(' / ')[0]),
                    datasets: [
                        {
                            label: 'Current %',
                            data: allocations.map(a => a.current),
                            backgroundColor: 'rgba(52, 152, 219, 0.7)',
                            borderColor: '#3498db',
                            borderWidth: 2
                        },
                        {
                            label: 'Recommended %',
                            data: allocations.map(a => a.recommended),
                            backgroundColor: 'rgba(201, 162, 39, 0.7)',
                            borderColor: '#C9A227',
                            borderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            labels: { color: '#999', font: { size: 12 } }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleColor: '#C9A227',
                            bodyColor: '#fff'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { 
                                color: '#666',
                                callback: function(value) { return value + '%'; }
                            },
                            grid: { color: 'rgba(255, 255, 255, 0.05)' }
                        },
                        x: {
                            ticks: { color: '#666' },
                            grid: { color: 'rgba(255, 255, 255, 0.05)' }
                        }
                    }
                }
            });
        }
        
        function toggleFAQ(element) {
            const answer = element.nextElementSibling;
            const isActive = answer.classList.contains('active');
            document.querySelectorAll('.faq-answer').forEach(a => a.classList.remove('active'));
            if (!isActive) answer.classList.add('active');
        }
    </script>
    
    <div class="faq-section">
        <h2 class="faq-title">Frequently Asked Questions</h2>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                What is asset allocation and why is it important?
                <i class="fas fa-chevron-down" style="color: var(--gold);"></i>
            </div>
            <div class="faq-answer">
                <p>Asset allocation is dividing your investment portfolio among different asset classes (stocks, bonds, gold, real estate) to balance risk and return. It's the single most important decision affecting portfolio performance - more than individual stock selection. Proper asset allocation: 1) Reduces portfolio volatility through diversification, 2) Optimizes risk-adjusted returns, 3) Protects against asset-specific crashes, 4) Aligns investments with age and goals. Studies show asset allocation determines 90%+ of portfolio returns over time.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                What is the ideal asset allocation for my age in India 2026?
                <i class="fas fa-chevron-down" style="color: var(--gold);"></i>
            </div>
            <div class="faq-answer">
                <p>Age-based allocation rule: Equity% = 100 - Age (or 110 - Age for aggressive). Ages 20-30: 80% equity, 10% debt, 10% gold (high growth phase). Ages 30-40: 70% equity, 20% debt, 10% gold (wealth accumulation). Ages 40-50: 60% equity, 30% debt, 10% gold (balanced approach). Ages 50-60: 40% equity, 50% debt, 10% gold (capital protection). Ages 60+: 30% equity, 60% debt, 10% gold (income generation). Adjust based on risk tolerance and financial goals.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                How much gold should I hold in my portfolio?
                <i class="fas fa-chevron-down" style="color: var(--gold);"></i>
            </div>
            <div class="faq-answer">
                <p>Optimal gold allocation: 10-15% of portfolio across all ages. Gold benefits: 1) Inflation hedge - maintains purchasing power, 2) Negative correlation with stocks - rises when markets crash, 3) Currency protection against rupee depreciation, 4) Geopolitical hedge. In India specifically, gold has cultural significance plus delivered 10%+ CAGR over decades. Investment options: Physical gold (jewelry/coins), Sovereign Gold Bonds (2.5% interest + price appreciation, best option), Gold ETFs (liquidity), Digital gold. Avoid exceeding 20% gold as it's non-productive asset.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                How often should I rebalance my portfolio allocation?
                <i class="fas fa-chevron-down" style="color: var(--gold);"></i>
            </div>
            <div class="faq-answer">
                <p>Rebalance portfolio when: 1) Asset class drifts 5%+ from target allocation, 2) Annually on fixed date (March 31 for tax planning), 3) Major life events (marriage, child birth, job change), 4) After major market moves (20%+ rally or crash). Example: Started with 60% equity, 40% debt. After bull run, equity becomes 75%, debt 25%. Sell 15% equity, buy debt to restore 60:40. Rebalancing forces "buy low, sell high" discipline. Avoid rebalancing too frequently (quarterly) as transaction costs erode returns. Once yearly or threshold-based rebalancing is optimal.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                Should I include real estate in my asset allocation calculation?
                <i class="fas fa-chevron-down" style="color: var(--gold);"></i>
            </div>
            <div class="faq-answer">
                <p>Yes, include real estate in allocation calculation but treat differently: 1) Self-occupied house: Exclude from investment portfolio (it's consumption, not investment), 2) Rental property: Include at current market value as real estate allocation, 3) REITs: Include as equity or separate real estate allocation. Ideal real estate allocation: 0-15% for most investors. Challenges: Illiquid, high transaction costs (stamp duty, brokerage), indivisible, maintenance hassles. Better alternatives for small portfolios: REITs (3-5% allocation) give real estate exposure with liquidity. Focus on financial assets (stocks, bonds, gold) until ‚Çπ50 lakhs+ portfolio size.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                What is Sharpe Ratio and how to improve it?
                <i class="fas fa-chevron-down" style="color: var(--gold);"></i>
            </div>
            <div class="faq-answer">
                <p>Sharpe Ratio measures risk-adjusted returns: (Portfolio Return - Risk Free Rate) / Portfolio Risk. >1.0 = Excellent, 0.5-1.0 = Good, <0.5 = Poor. Example: Portfolio returns 12%, risk-free rate 6%, portfolio risk 15%. Sharpe = (12-6)/15 = 0.4 (needs improvement). How to improve Sharpe Ratio: 1) Diversify across uncorrelated assets (add gold, international stocks), 2) Reduce high-risk, low-return assets, 3) Optimize equity-debt mix for your risk tolerance, 4) Include low-correlation assets (gold, commodities), 5) Avoid over-concentration in single sector/stock. Target Sharpe > 0.7 for Indian portfolios.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                Can I have 100% equity allocation if I'm young and aggressive?
                <i class="fas fa-chevron-down" style="color: var(--gold);"></i>
            </div>
            <div class="faq-answer">
                <p>100% equity possible but NOT recommended even for young investors because: 1) Extreme volatility - portfolio can drop 40-50% in crashes, 2) Psychological stress leads to panic selling at bottoms, 3) No dry powder to buy dips, 4) Emergency fund should be in debt (6 months expenses). Better approach for aggressive young investors: 80-85% equity, 10% debt (emergency fund), 5-10% gold (hedge). This provides: 1) Cash buffer for opportunities, 2) Psychological comfort during crashes, 3) Nearly same returns as 100% equity with lower stress. Remember: Wealth is built by staying invested, not maximum risk. Balanced allocation helps you survive crashes and stay invested long-term.</p>
            </div>
        </div>
    </div>

    <footer style="background: var(--bg-secondary); padding: 60px 40px; text-align: center; border-top: 1px solid var(--border-color); margin-top: 80px;">
        <div style="max-width: 1200px; margin: 0 auto;">
            <div style="display: flex; justify-content: space-between; align-items: start; flex-wrap: wrap; gap: 40px; text-align: left; margin-bottom: 40px;">
                <div style="flex: 1; min-width: 250px;">
                    <h3 style="color: var(--gold); margin-bottom: 20px; font-size: 1.5rem;">BroBillionaire</h3>
                    <p style="color: var(--text-secondary); line-height: 1.8;">Empowering Indian traders with premium tools, deep market insights, and actionable trading strategies. Master the markets in 2026!</p>
                </div>
                <div style="flex: 1; min-width: 200px;">
                    <h4 style="color: var(--gold); margin-bottom: 15px;">Quick Links</h4>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <a href="index.html" style="color: var(--text-secondary); text-decoration: none;">Home</a>
                        <a href="articles.html" style="color: var(--text-secondary); text-decoration: none;">Articles</a>
                        <a href="tools.html" style="color: var(--text-secondary); text-decoration: none;">Tools</a>
                        <a href="about.html" style="color: var(--text-secondary); text-decoration: none;">About</a>
                    </div>
                </div>
                <div style="flex: 1; min-width: 200px;">
                    <h4 style="color: var(--gold); margin-bottom: 15px;">Popular Tools</h4>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <a href="tool-option-strategy-builder.html" style="color: var(--text-secondary); text-decoration: none;">Option Strategy Builder</a>
                        <a href="tool-position-size-calculator.html" style="color: var(--text-secondary); text-decoration: none;">Position Size Calculator</a>
                        <a href="tool-dollar-cost-averaging.html" style="color: var(--text-secondary); text-decoration: none;">DCA Calculator</a>
                    </div>
                </div>
            </div>
            <div style="border-top: 1px solid var(--border-color); padding-top: 30px; color: var(--text-tertiary); font-size: 0.9rem;">
                <p>&copy; 2026 BroBillionaire. All rights reserved. Built for Indian Traders üáÆüá≥</p>
                <p style="margin-top: 10px;">Disclaimer: All tools and content are for educational purposes only. Not financial advice. Trade at your own risk.</p>
            </div>
        </div>
    </footer>
</body>
</html>