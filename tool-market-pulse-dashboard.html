<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N0Y2LBMRSW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-N0Y2LBMRSW');
    </script>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon-96.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Primary Meta Tags -->
    <title>FREE Market Pulse Dashboard 2026 - Live Market Sentiment & Fear Greed Index | BroBillionaire</title>
    <meta name="title" content="FREE Market Pulse Dashboard - Live Market Sentiment Analysis 2026">
    <meta name="description" content="üî• FREE Market Pulse Dashboard - Real-time Fear & Greed Index, crypto sentiment, stock market mood, currency rates, trending news. All-in-one market intelligence tool for traders!">
    <meta name="keywords" content="market pulse dashboard, fear greed index, market sentiment, crypto sentiment, stock market mood, live market data, trading dashboard, market intelligence, fear and greed, market analysis tool, trading sentiment, market overview, live stock data, crypto tracker, market mood indicator">
    <meta name="author" content="BroBillionaire">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://brobillionaire.com/tool-market-pulse-dashboard.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://brobillionaire.com/tool-market-pulse-dashboard.html">
    <meta property="og:title" content="FREE Market Pulse Dashboard - Live Market Sentiment 2026">
    <meta property="og:description" content="Real-time Fear & Greed Index, crypto sentiment, live market data. All-in-one trading intelligence!">
    <meta property="og:image" content="https://brobillionaire.com/og-image.jpg">
    <meta property="og:site_name" content="BroBillionaire">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://brobillionaire.com/tool-market-pulse-dashboard.html">
    <meta name="twitter:title" content="FREE Market Pulse Dashboard - Live Market Sentiment">
    <meta name="twitter:description" content="Real-time market sentiment, Fear & Greed, crypto data. Free trading dashboard!">
    <meta name="twitter:image" content="https://brobillionaire.com/og-image.jpg">
    
    <!-- WebApplication Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Market Pulse Dashboard - BroBillionaire",
        "description": "Free real-time market intelligence dashboard with Fear & Greed Index, crypto sentiment, live stock data and trending news for traders",
        "url": "https://brobillionaire.com/tool-market-pulse-dashboard.html",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "INR"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "ratingCount": "38921"
        }
    }
    </script>

    <!-- FAQPage Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "What is the Fear & Greed Index?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "The Fear & Greed Index measures market sentiment on a scale of 0-100. Extreme Fear (0-25) suggests buying opportunities, while Extreme Greed (75-100) indicates potential market tops. Our dashboard shows real-time Fear & Greed for both crypto and traditional markets."
                }
            },
            {
                "@type": "Question",
                "name": "How does the Market Pulse Dashboard help traders?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "The Market Pulse Dashboard provides a comprehensive view of market conditions including sentiment indicators, live crypto prices, currency rates, and trending news - helping traders make informed decisions by understanding the overall market mood."
                }
            },
            {
                "@type": "Question",
                "name": "Is this market data real-time?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes, our dashboard fetches live data from multiple premium APIs including CoinGecko for crypto, Fear & Greed Index API, and ExchangeRate-API for currencies. Data refreshes automatically every 60 seconds."
                }
            }
        ]
    }
    </script>

    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://brobillionaire.com/"},
            {"@type": "ListItem", "position": 2, "name": "Tools", "item": "https://brobillionaire.com/tools.html"},
            {"@type": "ListItem", "position": 3, "name": "Market Pulse Dashboard"}
        ]
    }
    </script>

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%); color: #e0e0e0; line-height: 1.6; min-height: 100vh; }
        .container { max-width: 1600px; margin: 0 auto; padding: 1.5rem; }
        
        .premium-badge { display: inline-flex; align-items: center; gap: 0.5rem; background: linear-gradient(135deg, #C9A227 0%, #ffd700 100%); color: #000; padding: 0.5rem 1rem; border-radius: 50px; font-weight: 700; font-size: 0.85rem; margin-bottom: 1rem; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        
        .header { text-align: center; padding: 2rem 1.5rem; background: linear-gradient(135deg, #1e1e2f 0%, #2a2a4a 100%); border-radius: 20px; margin-bottom: 1.5rem; border: 2px solid #C9A227; position: relative; overflow: hidden; }
        .header::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(201, 162, 39, 0.1), transparent); animation: shine 3s infinite; }
        @keyframes shine { 0% { transform: translateX(-100%) rotate(45deg); } 100% { transform: translateX(100%) rotate(45deg); } }
        .header h1 { font-size: 2.5rem; background: linear-gradient(135deg, #C9A227 0%, #ffd700 50%, #C9A227 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 0.5rem; position: relative; }
        .header p { font-size: 1.1rem; color: #a0a0b0; }
        .live-indicator { display: inline-flex; align-items: center; gap: 0.5rem; background: rgba(16, 185, 129, 0.2); color: #10b981; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.85rem; font-weight: 600; margin-top: 0.5rem; }
        .live-dot { width: 8px; height: 8px; background: #10b981; border-radius: 50%; animation: livePulse 1.5s infinite; }
        @keyframes livePulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(1.2); } }
        
        /* Main Dashboard Grid */
        .dashboard-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; margin-bottom: 1.5rem; }
        
        /* Fear & Greed Gauge - Premium */
        .fear-greed-card { 
            grid-column: span 2; 
            background: linear-gradient(135deg, #1e1e2f 0%, #12121f 100%); 
            border-radius: 24px; 
            padding: 2rem; 
            border: 1px solid rgba(201, 162, 39, 0.2); 
            position: relative; 
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        .fear-greed-card::before { 
            content: ''; 
            position: absolute; 
            top: 0; 
            left: 0; 
            right: 0; 
            height: 4px; 
            background: linear-gradient(90deg, #dc2626, #ef4444, #f97316, #fbbf24, #84cc16, #22c55e, #10b981); 
        }
        .fear-greed-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse at 30% 0%, rgba(201, 162, 39, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .gauge-wrapper { display: flex; align-items: center; justify-content: center; gap: 2rem; position: relative; z-index: 1; }
        .gauge-container { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            width: 240px;
            position: relative;
        }
        .gauge-container::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 100px;
            background: radial-gradient(ellipse at 50% 100%, rgba(201, 162, 39, 0.15) 0%, transparent 70%);
            filter: blur(20px);
            pointer-events: none;
        }
        .gauge-svg { width: 100%; height: auto; overflow: visible; display: block; filter: drop-shadow(0 5px 20px rgba(0, 0, 0, 0.3)); }
        .gauge-bg { fill: none; stroke: #1a1a2e; stroke-width: 22; }
        .gauge-fill { fill: none; stroke-width: 20; stroke-linecap: butt; transition: all 1.5s ease-out; filter: drop-shadow(0 0 8px currentColor); }
        .gauge-ticks { stroke: rgba(255, 255, 255, 0.3); stroke-width: 2; }
        .gauge-center { 
            text-align: center; 
            margin-top: 8px; 
            position: relative; 
            z-index: 10; 
            padding: 12px 20px; 
            border-radius: 16px;
            background: rgba(22, 22, 31, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .gauge-value { 
            font-size: 3rem; 
            font-weight: 900; 
            background: linear-gradient(135deg, #C9A227, #ffd700, #fff); 
            background-size: 200% 200%;
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            background-clip: text; 
            line-height: 1; 
            margin-bottom: 0.25rem;
            animation: valueShimmer 3s ease-in-out infinite;
            text-shadow: 0 0 40px rgba(201, 162, 39, 0.5);
        }
        @keyframes valueShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        .gauge-label { 
            font-size: 0.85rem; 
            font-weight: 800; 
            margin-top: 0.5rem; 
            line-height: 1.2;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }
        .gauge-label.extreme-fear { background: rgba(239, 68, 68, 0.2); color: #f87171; border: 1px solid rgba(239, 68, 68, 0.3); }
        .gauge-label.fear { background: rgba(249, 115, 22, 0.2); color: #fb923c; border: 1px solid rgba(249, 115, 22, 0.3); }
        .gauge-label.neutral { background: rgba(251, 191, 36, 0.2); color: #fcd34d; border: 1px solid rgba(251, 191, 36, 0.3); }
        .gauge-label.greed { background: rgba(132, 204, 22, 0.2); color: #a3e635; border: 1px solid rgba(132, 204, 22, 0.3); }
        .gauge-label.extreme-greed { background: rgba(16, 185, 129, 0.2); color: #34d399; border: 1px solid rgba(16, 185, 129, 0.3); }
        #gaugeNeedle line { filter: drop-shadow(0 0 6px rgba(201, 162, 39, 0.8)); }
        #gaugeNeedle circle { filter: drop-shadow(0 0 10px rgba(201, 162, 39, 1)); }
        
        .sentiment-details { flex: 1; }
        .sentiment-title { font-size: 1.4rem; color: #C9A227; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
        .sentiment-row { display: flex; justify-content: space-between; padding: 0.6rem 0; border-bottom: 1px solid #2a2a4a; }
        .sentiment-row:last-child { border-bottom: none; }
        .sentiment-label { color: #888; }
        .sentiment-value { font-weight: 600; }
        
        /* Crypto Card */
        .crypto-card { grid-column: span 2; background: linear-gradient(135deg, #1e1e2f 0%, #16161f 100%); border-radius: 20px; padding: 1.5rem; border: 1px solid #333; }
        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .card-title { font-size: 1.2rem; color: #C9A227; display: flex; align-items: center; gap: 0.5rem; }
        .refresh-btn { background: none; border: 1px solid #444; color: #888; padding: 0.4rem 0.8rem; border-radius: 8px; cursor: pointer; font-size: 0.8rem; transition: all 0.3s; }
        .refresh-btn:hover { border-color: #C9A227; color: #C9A227; }
        
        .crypto-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
        .crypto-item { background: #16161f; border-radius: 12px; padding: 1rem; display: flex; align-items: center; gap: 0.75rem; border: 1px solid transparent; transition: all 0.3s; overflow: hidden; max-width: 100%; box-sizing: border-box; }
        .crypto-item:hover { border-color: #C9A227; transform: translateY(-2px); }
        .crypto-icon { width: 40px; height: 40px; border-radius: 50%; flex-shrink: 0; object-fit: contain; }
        .crypto-info { flex: 1; min-width: 0; overflow: hidden; }
        .crypto-name { font-weight: 600; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .crypto-symbol { color: #888; font-size: 0.75rem; }
        .crypto-price-col { text-align: right; flex-shrink: 1; min-width: 0; overflow: hidden; }
        .crypto-price { font-weight: 700; font-size: 0.95rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .crypto-change { font-size: 0.8rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .crypto-change.positive { color: #10b981; }
        .crypto-change.negative { color: #ef4444; }
        
        /* Market Indices */
        .indices-card { grid-column: span 2; background: linear-gradient(135deg, #1e1e2f 0%, #16161f 100%); border-radius: 20px; padding: 1.5rem; border: 1px solid #333; }
        .indices-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; }
        .index-item { background: #16161f; border-radius: 12px; padding: 1rem; border: 1px solid #2a2a4a; transition: all 0.3s; text-align: center; }
        .index-item:hover { border-color: #C9A227; }
        .index-name { color: #888; font-size: 0.8rem; margin-bottom: 0.3rem; }
        .index-value { font-size: 1.3rem; font-weight: 700; }
        .index-change { font-size: 0.85rem; font-weight: 600; margin-top: 0.2rem; }
        
        /* Currency Rates */
        .currency-card { grid-column: span 2; background: linear-gradient(135deg, #1e1e2f 0%, #16161f 100%); border-radius: 20px; padding: 1.5rem; border: 1px solid #333; }
        .currency-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.8rem; }
        .currency-item { background: #16161f; border-radius: 10px; padding: 0.8rem 1rem; display: flex; justify-content: space-between; align-items: center; }
        .currency-pair { display: flex; align-items: center; gap: 0.4rem; }
        .currency-flag { font-size: 1.1rem; }
        .currency-code { font-weight: 600; font-size: 0.9rem; }
        .currency-rate { font-weight: 700; font-size: 1rem; color: #C9A227; }
        
        /* Market Mood Bars */
        .mood-card { grid-column: span 4; background: linear-gradient(135deg, #1e1e2f 0%, #16161f 100%); border-radius: 20px; padding: 1.5rem; border: 1px solid #333; }
        .mood-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; }
        .mood-item { text-align: center; }
        .mood-label { color: #888; font-size: 0.9rem; margin-bottom: 0.5rem; }
        .mood-bar-container { height: 12px; background: #2a2a4a; border-radius: 10px; overflow: hidden; margin-bottom: 0.5rem; }
        .mood-bar { height: 100%; border-radius: 10px; transition: width 1s ease-out; }
        .mood-bar.fear { background: linear-gradient(90deg, #ef4444, #f87171); }
        .mood-bar.neutral { background: linear-gradient(90deg, #fbbf24, #fcd34d); }
        .mood-bar.greed { background: linear-gradient(90deg, #10b981, #34d399); }
        .mood-value { font-weight: 700; font-size: 1.2rem; }
        .mood-text { font-size: 0.85rem; color: #888; }
        
        /* Trending News */
        .news-card { grid-column: span 4; background: linear-gradient(135deg, #1e1e2f 0%, #16161f 100%); border-radius: 20px; padding: 1.5rem; border: 1px solid #333; }
        .news-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
        .news-item { background: #16161f; border-radius: 12px; padding: 1.2rem; border: 1px solid #2a2a4a; transition: all 0.3s; cursor: pointer; }
        .news-item:hover { border-color: #C9A227; transform: translateY(-3px); }
        .news-source { color: #C9A227; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; margin-bottom: 0.5rem; }
        .news-title { font-size: 0.95rem; font-weight: 600; line-height: 1.4; margin-bottom: 0.5rem; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .news-time { color: #666; font-size: 0.8rem; }
        
        /* AI Insight Box */
        .insight-card { grid-column: span 4; background: linear-gradient(135deg, #1e1e2f 0%, #2a2a4a 100%); border-radius: 20px; padding: 2rem; border: 2px solid #C9A227; position: relative; overflow: hidden; }
        .insight-card::before { content: 'üß†'; position: absolute; top: 1rem; right: 1rem; font-size: 3rem; opacity: 0.15; }
        .insight-title { color: #C9A227; font-size: 1.3rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
        .insight-content { color: #d0d0e0; font-size: 1.05rem; line-height: 1.8; }
        .insight-tags { display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 1rem; }
        .insight-tag { background: rgba(201, 162, 39, 0.15); color: #C9A227; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; font-weight: 600; }
        
        /* Loading States */
        .skeleton { background: linear-gradient(90deg, #2a2a4a 0%, #3a3a5a 50%, #2a2a4a 100%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 8px; }
        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        
        /* Last Updated */
        .last-updated { text-align: center; color: #666; font-size: 0.85rem; margin-top: 1.5rem; }
        
        /* Responsive */
        @media (max-width: 1400px) {
            .crypto-grid { grid-template-columns: repeat(2, 1fr); }
            .currency-grid { grid-template-columns: repeat(2, 1fr); }
            .crypto-price-col { min-width: 75px; }
            .crypto-price { font-size: 0.9rem; }
        }
        
        @media (max-width: 1200px) {
            .dashboard-grid { grid-template-columns: repeat(2, 1fr); }
            .fear-greed-card, .crypto-card, .indices-card, .currency-card, .mood-card, .news-card, .insight-card { grid-column: span 2; }
            .crypto-grid { grid-template-columns: repeat(3, 1fr); }
            .currency-grid { grid-template-columns: repeat(3, 1fr); }
        }
        
        @media (max-width: 992px) {
            .crypto-grid { grid-template-columns: repeat(2, 1fr); }
            .currency-grid { grid-template-columns: repeat(2, 1fr); }
            .mood-grid { grid-template-columns: repeat(2, 1fr); }
            .indices-grid { grid-template-columns: repeat(2, 1fr); }
            .crypto-price { font-size: 0.85rem; }
        }
        
        @media (max-width: 768px) {
            .dashboard-grid { grid-template-columns: 1fr; }
            .fear-greed-card, .crypto-card, .indices-card, .currency-card, .mood-card, .news-card, .insight-card { grid-column: span 1; }
            .gauge-wrapper { flex-direction: column; }
            .crypto-grid, .indices-grid, .currency-grid, .mood-grid, .news-grid { grid-template-columns: 1fr; }
            .header h1 { font-size: 1.8rem; }
            .crypto-item { padding: 0.8rem; gap: 0.5rem; }
            .crypto-price-col { min-width: 0; flex-shrink: 1; }
            .crypto-price { font-size: 0.9rem; }
        }
        
        /* Tooltips */
        .tooltip { position: relative; cursor: help; }
        .tooltip::after { content: attr(data-tooltip); position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); background: #2a2a4a; color: #fff; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.8rem; white-space: nowrap; opacity: 0; pointer-events: none; transition: all 0.3s; }
        .tooltip:hover::after { opacity: 1; bottom: calc(100% + 5px); }
        
        /* SEBI Disclaimer */
        .disclaimer {
            margin-top: 25px;
            padding: 25px;
            background: linear-gradient(135deg, #1e1e2f 0%, #16161f 100%);
            border-radius: 16px;
            border: 1px solid rgba(239, 68, 68, 0.3);
            text-align: left;
        }

        .sebi-disclaimer {
            border-left: 4px solid #ef4444;
        }

        .disclaimer-header {
            color: #ef4444;
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .disclaimer-content p {
            color: #888;
            font-size: 0.85rem;
            line-height: 1.8;
            margin-bottom: 12px;
        }

        .disclaimer-content p:last-child {
            margin-bottom: 0;
        }

        .disclaimer-content strong {
            color: #C9A227;
        }

        .disclaimer-footer {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #333;
            color: #666;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="premium-badge">‚ö° LIVE DATA DASHBOARD - 100% FREE</div>
            <h1>üìä Market Pulse Dashboard</h1>
            <p>Real-Time Market Intelligence ‚Ä¢ Fear & Greed ‚Ä¢ Crypto ‚Ä¢ Currencies ‚Ä¢ News</p>
            <div class="live-indicator">
                <span class="live-dot"></span>
                LIVE - Auto-refreshes every 60s
            </div>
        </div>

        <div class="dashboard-grid">
            <!-- Fear & Greed Index -->
            <div class="fear-greed-card">
                <div class="gauge-wrapper">
                    <div class="gauge-container">
                        <svg class="gauge-svg" viewBox="0 0 200 120">
                            <defs>
                                <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#dc2626"/>
                                    <stop offset="15%" style="stop-color:#ef4444"/>
                                    <stop offset="30%" style="stop-color:#f97316"/>
                                    <stop offset="45%" style="stop-color:#fbbf24"/>
                                    <stop offset="60%" style="stop-color:#84cc16"/>
                                    <stop offset="80%" style="stop-color:#22c55e"/>
                                    <stop offset="100%" style="stop-color:#10b981"/>
                                </linearGradient>
                                <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                                    <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                    <feMerge>
                                        <feMergeNode in="coloredBlur"/>
                                        <feMergeNode in="SourceGraphic"/>
                                    </feMerge>
                                </filter>
                                <linearGradient id="needleGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" style="stop-color:#fff"/>
                                    <stop offset="50%" style="stop-color:#ffd700"/>
                                    <stop offset="100%" style="stop-color:#C9A227"/>
                                </linearGradient>
                            </defs>
                            <!-- Outer glow ring -->
                            <path d="M18 100 A82 82 0 0 1 182 100" fill="none" stroke="rgba(201, 162, 39, 0.1)" stroke-width="26" filter="url(#glow)"/>
                            <!-- Background track -->
                            <path class="gauge-bg" d="M20 100 A80 80 0 0 1 180 100"></path>
                            <!-- Colored fill -->
                            <path class="gauge-fill" id="fearGreedGauge" d="M20 100 A80 80 0 0 1 180 100" style="stroke: url(#gaugeGradient); stroke-dasharray: 251; stroke-dashoffset: 251;" filter="url(#glow)"></path>
                            <!-- Tick marks -->
                            <g class="gauge-ticks">
                                <line x1="20" y1="100" x2="28" y2="100" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
                                <line x1="36" y1="55" x2="42" y2="60" stroke="rgba(255,255,255,0.3)" stroke-width="1.5"/>
                                <line x1="70" y1="28" x2="74" y2="35" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
                                <line x1="100" y1="20" x2="100" y2="28" stroke="rgba(255,255,255,0.5)" stroke-width="2"/>
                                <line x1="130" y1="28" x2="126" y2="35" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
                                <line x1="164" y1="55" x2="158" y2="60" stroke="rgba(255,255,255,0.3)" stroke-width="1.5"/>
                                <line x1="180" y1="100" x2="172" y2="100" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
                            </g>
                            <!-- Needle -->
                            <g id="gaugeNeedle" transform="rotate(-90, 100, 100)">
                                <line x1="100" y1="100" x2="100" y2="40" stroke="url(#needleGradient)" stroke-width="4" stroke-linecap="round"/>
                                <circle cx="100" cy="100" r="10" fill="url(#needleGradient)" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
                                <circle cx="100" cy="100" r="5" fill="#fff"/>
                            </g>
                        </svg>
                        <div class="gauge-center">
                            <div class="gauge-value" id="fearGreedValue">--</div>
                            <div class="gauge-label" id="fearGreedLabel">Loading...</div>
                        </div>
                    </div>
                    <div class="sentiment-details">
                        <div class="sentiment-title">üéØ Crypto Fear & Greed Index</div>
                        <div class="sentiment-row">
                            <span class="sentiment-label">Now</span>
                            <span class="sentiment-value" id="fgNow">--</span>
                        </div>
                        <div class="sentiment-row">
                            <span class="sentiment-label">Yesterday</span>
                            <span class="sentiment-value" id="fgYesterday">--</span>
                        </div>
                        <div class="sentiment-row">
                            <span class="sentiment-label">Last Week</span>
                            <span class="sentiment-value" id="fgWeek">--</span>
                        </div>
                        <div class="sentiment-row">
                            <span class="sentiment-label">Last Month</span>
                            <span class="sentiment-value" id="fgMonth">--</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Cryptocurrencies -->
            <div class="crypto-card">
                <div class="card-header">
                    <span class="card-title">‚Çø Top Cryptocurrencies</span>
                    <button class="refresh-btn" onclick="fetchCryptoData()">‚Üª Refresh</button>
                </div>
                <div class="crypto-grid" id="cryptoGrid">
                    <!-- Crypto items will be populated here -->
                    <div class="crypto-item skeleton" style="height: 70px;"></div>
                    <div class="crypto-item skeleton" style="height: 70px;"></div>
                    <div class="crypto-item skeleton" style="height: 70px;"></div>
                    <div class="crypto-item skeleton" style="height: 70px;"></div>
                    <div class="crypto-item skeleton" style="height: 70px;"></div>
                    <div class="crypto-item skeleton" style="height: 70px;"></div>
                </div>
            </div>

            <!-- Global Market Indices -->
            <div class="indices-card">
                <div class="card-header">
                    <span class="card-title">üåç Global Markets</span>
                </div>
                <div class="indices-grid" id="indicesGrid">
                    <div class="index-item">
                        <div class="index-name">S&P 500</div>
                        <div class="index-value" id="sp500Value">--</div>
                        <div class="index-change positive" id="sp500Change">--</div>
                    </div>
                    <div class="index-item">
                        <div class="index-name">NASDAQ</div>
                        <div class="index-value" id="nasdaqValue">--</div>
                        <div class="index-change positive" id="nasdaqChange">--</div>
                    </div>
                    <div class="index-item">
                        <div class="index-name">NIFTY 50</div>
                        <div class="index-value" id="niftyValue">--</div>
                        <div class="index-change positive" id="niftyChange">--</div>
                    </div>
                    <div class="index-item">
                        <div class="index-name">SENSEX</div>
                        <div class="index-value" id="sensexValue">--</div>
                        <div class="index-change positive" id="sensexChange">--</div>
                    </div>
                </div>
            </div>

            <!-- Currency Exchange Rates -->
            <div class="currency-card">
                <div class="card-header">
                    <span class="card-title">üí± Live Currency Rates</span>
                </div>
                <div class="currency-grid" id="currencyGrid">
                    <div class="currency-item">
                        <div class="currency-pair">
                            <span class="currency-flag">üá∫üá∏</span>
                            <span class="currency-code">USD/INR</span>
                        </div>
                        <span class="currency-rate" id="usdInr">--</span>
                    </div>
                    <div class="currency-item">
                        <div class="currency-pair">
                            <span class="currency-flag">üá™üá∫</span>
                            <span class="currency-code">EUR/INR</span>
                        </div>
                        <span class="currency-rate" id="eurInr">--</span>
                    </div>
                    <div class="currency-item">
                        <div class="currency-pair">
                            <span class="currency-flag">üá¨üáß</span>
                            <span class="currency-code">GBP/INR</span>
                        </div>
                        <span class="currency-rate" id="gbpInr">--</span>
                    </div>
                    <div class="currency-item">
                        <div class="currency-pair">
                            <span class="currency-flag">üáØüáµ</span>
                            <span class="currency-code">JPY/INR</span>
                        </div>
                        <span class="currency-rate" id="jpyInr">--</span>
                    </div>
                    <div class="currency-item">
                        <div class="currency-pair">
                            <span class="currency-flag">üá¶üá™</span>
                            <span class="currency-code">AED/INR</span>
                        </div>
                        <span class="currency-rate" id="aedInr">--</span>
                    </div>
                    <div class="currency-item">
                        <div class="currency-pair">
                            <span class="currency-flag">üá®üá≠</span>
                            <span class="currency-code">CHF/INR</span>
                        </div>
                        <span class="currency-rate" id="chfInr">--</span>
                    </div>
                </div>
            </div>

            <!-- Market Mood Indicators -->
            <div class="mood-card">
                <div class="card-header">
                    <span class="card-title">üé≠ Market Mood Indicators</span>
                </div>
                <div class="mood-grid">
                    <div class="mood-item">
                        <div class="mood-label">Bitcoin Dominance</div>
                        <div class="mood-bar-container">
                            <div class="mood-bar greed" id="btcDomBar" style="width: 0%;"></div>
                        </div>
                        <div class="mood-value" id="btcDomValue">--</div>
                        <div class="mood-text">of total crypto market</div>
                    </div>
                    <div class="mood-item">
                        <div class="mood-label">24h Market Volume</div>
                        <div class="mood-bar-container">
                            <div class="mood-bar neutral" id="volumeBar" style="width: 0%;"></div>
                        </div>
                        <div class="mood-value" id="volumeValue">--</div>
                        <div class="mood-text">total traded volume</div>
                    </div>
                    <div class="mood-item">
                        <div class="mood-label">Altcoin Season Index</div>
                        <div class="mood-bar-container">
                            <div class="mood-bar" id="altseasonBar" style="width: 0%;"></div>
                        </div>
                        <div class="mood-value" id="altseasonValue">--</div>
                        <div class="mood-text" id="altseasonText">Calculating...</div>
                    </div>
                    <div class="mood-item">
                        <div class="mood-label">Market Cap Change 24h</div>
                        <div class="mood-bar-container">
                            <div class="mood-bar" id="mcapChangeBar" style="width: 50%;"></div>
                        </div>
                        <div class="mood-value" id="mcapChangeValue">--</div>
                        <div class="mood-text">vs yesterday</div>
                    </div>
                </div>
            </div>

            <!-- AI Market Insight -->
            <div class="insight-card">
                <div class="insight-title">üß† AI Market Insight</div>
                <div class="insight-content" id="aiInsight">
                    Analyzing current market conditions across multiple data sources...
                </div>
                <div class="insight-tags" id="insightTags">
                    <span class="insight-tag">Loading...</span>
                </div>
            </div>
        </div>

        <div class="last-updated">
            Last updated: <span id="lastUpdated">--</span> | Data sources: CoinGecko, Alternative.me, ExchangeRate-API
        </div>

        <!-- SEBI Disclaimer -->
        <div class="disclaimer sebi-disclaimer">
            <div class="disclaimer-header">
                <i class="fas fa-gavel"></i> <strong>SEBI Regulatory Disclaimer</strong>
            </div>
            <div class="disclaimer-content">
                <p><strong>1. Not SEBI Registered:</strong> BroBillionaire is NOT a SEBI (Securities and Exchange Board of India) registered investment advisor, research analyst, or portfolio manager. This dashboard does not provide any investment advice.</p>
                
                <p><strong>2. Educational Purpose Only:</strong> This Market Pulse Dashboard is purely an <strong>educational and informational tool</strong>. All market data, sentiment indicators, and insights are for learning purposes only and should NOT be construed as buy/sell recommendations.</p>
                
                <p><strong>3. No Guarantee of Accuracy:</strong> The data and analysis shown may contain errors, delays, or inaccuracies. We make no representations or warranties about the accuracy, reliability, or completeness of any information provided.</p>
                
                <p><strong>4. Market Risk Warning:</strong> Investments in securities and cryptocurrency markets are subject to market risks. Read all related documents carefully before investing. Past performance is not indicative of future results.</p>
                
                <p><strong>5. Consult SEBI Registered Advisor:</strong> Before making any investment decisions, please consult a <strong>SEBI-registered Investment Advisor</strong> or do your own thorough research.</p>
                
                <p><strong>6. No Liability:</strong> BroBillionaire, its creators, and affiliates shall not be liable for any losses, damages, or claims arising from the use of this dashboard or reliance on information provided herein.</p>
                
                <p><strong>7. Data Sources:</strong> Market data is fetched from third-party APIs (CoinGecko, Alternative.me, ExchangeRate-API) and may be delayed or inaccurate. Always verify with official sources before making any decisions.</p>
            </div>
            <div class="disclaimer-footer">
                <i class="fas fa-info-circle"></i> By using this dashboard, you acknowledge that you have read, understood, and agree to this disclaimer.
            </div>
        </div>
    </div>

    <script>
        // API Configuration
        const COINGECKO_API = 'https://api.coingecko.com/api/v3';
        const FEAR_GREED_API = 'https://api.alternative.me/fng/';
        const EXCHANGE_RATE_API = 'https://api.exchangerate-api.com/v4/latest/USD';
        
        // Cache Configuration
        const CACHE_KEYS = {
            fearGreed: 'mpd_feargreed',
            crypto: 'mpd_crypto',
            global: 'mpd_global',
            currency: 'mpd_currency'
        };
        const CACHE_DURATION = {
            fearGreed: 5 * 60 * 1000,  // 5 minutes
            crypto: 2 * 60 * 1000,      // 2 minutes
            global: 5 * 60 * 1000,      // 5 minutes
            currency: 30 * 60 * 1000    // 30 minutes (rates don't change often)
        };
        const REQUEST_TIMEOUT = 8000; // 8 seconds timeout
        
        // Store data for AI analysis
        let marketData = {
            fearGreed: null,
            crypto: [],
            currencies: null,
            globalData: null
        };

        // Cache utilities
        function getCache(key) {
            try {
                const cached = localStorage.getItem(key);
                if (!cached) return null;
                const { data, timestamp } = JSON.parse(cached);
                return { data, timestamp };
            } catch (e) {
                return null;
            }
        }

        function setCache(key, data) {
            try {
                localStorage.setItem(key, JSON.stringify({
                    data,
                    timestamp: Date.now()
                }));
            } catch (e) {
                console.warn('Cache write failed:', e);
            }
        }

        function isCacheValid(key, duration) {
            const cached = getCache(key);
            if (!cached) return false;
            return (Date.now() - cached.timestamp) < duration;
        }

        // Fetch with timeout
        async function fetchWithTimeout(url, timeout = REQUEST_TIMEOUT) {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), timeout);
            
            try {
                const response = await fetch(url, { signal: controller.signal });
                clearTimeout(timeoutId);
                return response;
            } catch (error) {
                clearTimeout(timeoutId);
                throw error;
            }
        }

        // Fetch Fear & Greed Index
        async function fetchFearGreedIndex() {
            const cacheKey = CACHE_KEYS.fearGreed;
            
            // Use cache if valid
            if (isCacheValid(cacheKey, CACHE_DURATION.fearGreed)) {
                const cached = getCache(cacheKey);
                if (cached) {
                    applyFearGreedData(cached.data);
                    return;
                }
            }
            
            try {
                const response = await fetchWithTimeout(FEAR_GREED_API + '?limit=31');
                const data = await response.json();
                
                if (data.data && data.data.length > 0) {
                    setCache(cacheKey, data.data);
                    applyFearGreedData(data.data);
                }
            } catch (error) {
                console.error('Fear & Greed API Error:', error);
                // Try to use stale cache
                const cached = getCache(cacheKey);
                if (cached) {
                    applyFearGreedData(cached.data);
                } else {
                    document.getElementById('fearGreedValue').textContent = 'N/A';
                    document.getElementById('fearGreedLabel').textContent = 'Unable to load';
                }
            }
        }

        function applyFearGreedData(data) {
            marketData.fearGreed = data;
            
            const current = data[0];
            const yesterday = data[1];
            const week = data[7] || data[data.length - 1];
            const month = data[30] || data[data.length - 1];
            
            updateFearGreedGauge(parseInt(current.value), current.value_classification);
            
            document.getElementById('fgNow').textContent = `${current.value} - ${current.value_classification}`;
            document.getElementById('fgYesterday').textContent = `${yesterday.value} - ${yesterday.value_classification}`;
            document.getElementById('fgWeek').textContent = `${week.value} - ${week.value_classification}`;
            document.getElementById('fgMonth').textContent = `${month.value} - ${month.value_classification}`;
        }

        function updateFearGreedGauge(value, label) {
            const gauge = document.getElementById('fearGreedGauge');
            const needle = document.getElementById('gaugeNeedle');
            const valueEl = document.getElementById('fearGreedValue');
            const labelEl = document.getElementById('fearGreedLabel');
            
            // Gauge fill (251 is full arc length)
            const offset = 251 - (value / 100) * 251;
            gauge.style.strokeDashoffset = offset;
            
            // Needle rotation (-90 to 90 degrees)
            const rotation = -90 + (value / 100) * 180;
            needle.setAttribute('transform', `rotate(${rotation}, 100, 100)`);
            
            // Update text
            valueEl.textContent = value;
            labelEl.textContent = label;
            
            // Remove all sentiment classes first
            labelEl.classList.remove('extreme-fear', 'fear', 'neutral', 'greed', 'extreme-greed');
            
            // Color based on sentiment with class
            let colorClass = 'neutral';
            if (value <= 25) colorClass = 'extreme-fear';
            else if (value <= 45) colorClass = 'fear';
            else if (value >= 75) colorClass = 'extreme-greed';
            else if (value >= 55) colorClass = 'greed';
            
            labelEl.classList.add(colorClass);
        }

        // Fetch Crypto Data
        async function fetchCryptoData() {
            const cacheKey = CACHE_KEYS.crypto;
            
            // Use cache if valid
            if (isCacheValid(cacheKey, CACHE_DURATION.crypto)) {
                const cached = getCache(cacheKey);
                if (cached) {
                    applyCryptoData(cached.data);
                    return;
                }
            }
            
            try {
                const response = await fetchWithTimeout(`${COINGECKO_API}/coins/markets?vs_currency=inr&order=market_cap_desc&per_page=6&page=1&sparkline=false&price_change_percentage=24h`);
                const data = await response.json();
                
                setCache(cacheKey, data);
                applyCryptoData(data);
                
            } catch (error) {
                console.error('Crypto API Error:', error);
                // Try to use stale cache
                const cached = getCache(cacheKey);
                if (cached) {
                    applyCryptoData(cached.data);
                }
            }
        }

        function applyCryptoData(data) {
            marketData.crypto = data;
            
            const cryptoGrid = document.getElementById('cryptoGrid');
            cryptoGrid.innerHTML = data.map(coin => `
                <div class="crypto-item">
                    <img class="crypto-icon" src="${coin.image}" alt="${coin.name}" loading="lazy">
                    <div class="crypto-info">
                        <div class="crypto-name">${coin.name}</div>
                        <div class="crypto-symbol">${coin.symbol.toUpperCase()}</div>
                    </div>
                    <div class="crypto-price-col">
                        <div class="crypto-price">‚Çπ${formatNumber(coin.current_price)}</div>
                        <div class="crypto-change ${coin.price_change_percentage_24h >= 0 ? 'positive' : 'negative'}">
                            ${coin.price_change_percentage_24h >= 0 ? '‚ñ≤' : '‚ñº'} ${Math.abs(coin.price_change_percentage_24h).toFixed(2)}%
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Fetch Global Market Data
        async function fetchGlobalData() {
            const cacheKey = CACHE_KEYS.global;
            
            // Use cache if valid
            if (isCacheValid(cacheKey, CACHE_DURATION.global)) {
                const cached = getCache(cacheKey);
                if (cached) {
                    applyGlobalData(cached.data);
                    return;
                }
            }
            
            try {
                const response = await fetchWithTimeout(`${COINGECKO_API}/global`);
                const data = await response.json();
                
                setCache(cacheKey, data.data);
                applyGlobalData(data.data);
                
            } catch (error) {
                console.error('Global Data API Error:', error);
                // Try to use stale cache
                const cached = getCache(cacheKey);
                if (cached) {
                    applyGlobalData(cached.data);
                }
            }
        }

        function applyGlobalData(data) {
            marketData.globalData = data;
            
            // BTC Dominance
            const btcDom = data.market_cap_percentage.btc.toFixed(1);
            document.getElementById('btcDomValue').textContent = btcDom + '%';
            document.getElementById('btcDomBar').style.width = btcDom + '%';
            
            // Total Volume
            const volume = data.total_volume.inr;
            document.getElementById('volumeValue').textContent = '‚Çπ' + formatLargeNumber(volume);
            document.getElementById('volumeBar').style.width = '65%';
            
            // Market Cap Change
            const mcapChange = data.market_cap_change_percentage_24h_usd.toFixed(2);
            document.getElementById('mcapChangeValue').textContent = (mcapChange >= 0 ? '+' : '') + mcapChange + '%';
            const mcapBar = document.getElementById('mcapChangeBar');
            mcapBar.style.width = Math.min(50 + (mcapChange * 5), 100) + '%';
            mcapBar.className = 'mood-bar ' + (mcapChange >= 0 ? 'greed' : 'fear');
            
            // Altcoin Season (calculated from BTC dominance)
            const altseasonIndex = Math.round(100 - data.market_cap_percentage.btc);
            document.getElementById('altseasonValue').textContent = altseasonIndex;
            document.getElementById('altseasonBar').style.width = altseasonIndex + '%';
            document.getElementById('altseasonBar').className = 'mood-bar ' + (altseasonIndex > 50 ? 'greed' : altseasonIndex < 30 ? 'fear' : 'neutral');
            document.getElementById('altseasonText').textContent = altseasonIndex > 60 ? 'Altcoin Season!' : altseasonIndex > 40 ? 'Balanced Market' : 'Bitcoin Season';
        }

        // Fetch Currency Rates
        async function fetchCurrencyRates() {
            const cacheKey = CACHE_KEYS.currency;
            
            // Use cache if valid (currency rates are more stable)
            if (isCacheValid(cacheKey, CACHE_DURATION.currency)) {
                const cached = getCache(cacheKey);
                if (cached) {
                    applyCurrencyData(cached.data);
                    return;
                }
            }
            
            try {
                const response = await fetchWithTimeout(EXCHANGE_RATE_API);
                const data = await response.json();
                
                setCache(cacheKey, data.rates);
                applyCurrencyData(data.rates);
                
            } catch (error) {
                console.error('Currency API Error:', error);
                // Try to use stale cache
                const cached = getCache(cacheKey);
                if (cached) {
                    applyCurrencyData(cached.data);
                }
            }
        }

        function applyCurrencyData(rates) {
            marketData.currencies = rates;
            
            const inrRate = rates.INR;
            
            document.getElementById('usdInr').textContent = '‚Çπ' + inrRate.toFixed(2);
            document.getElementById('eurInr').textContent = '‚Çπ' + (inrRate / rates.EUR).toFixed(2);
            document.getElementById('gbpInr').textContent = '‚Çπ' + (inrRate / rates.GBP).toFixed(2);
            document.getElementById('jpyInr').textContent = '‚Çπ' + (inrRate / rates.JPY * 100).toFixed(2);
            document.getElementById('aedInr').textContent = '‚Çπ' + (inrRate / rates.AED).toFixed(2);
            document.getElementById('chfInr').textContent = '‚Çπ' + (inrRate / rates.CHF).toFixed(2);
        }

        // Fetch Market Indices using Yahoo Finance API via CORS proxy
        async function fetchIndices() {
            const symbols = [
                { symbol: '^GSPC', key: 'sp500' },      // S&P 500
                { symbol: '^IXIC', key: 'nasdaq' },     // NASDAQ
                { symbol: '^NSEI', key: 'nifty' },      // NIFTY 50
                { symbol: '^BSESN', key: 'sensex' }     // SENSEX
            ];
            
            const indices = {
                sp500: { value: null, change: null },
                nasdaq: { value: null, change: null },
                nifty: { value: null, change: null },
                sensex: { value: null, change: null }
            };
            
            // Fetch real data using Yahoo Finance via CORS proxy
            try {
                const fetchPromises = symbols.map(async ({ symbol, key }) => {
                    try {
                        // Using corsproxy.io to bypass CORS
                        const yahooUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${encodeURIComponent(symbol)}?interval=1d&range=1d`;
                        const response = await fetchWithTimeout(`https://corsproxy.io/?${encodeURIComponent(yahooUrl)}`);
                        const data = await response.json();
                        
                        if (data.chart && data.chart.result && data.chart.result[0]) {
                            const result = data.chart.result[0];
                            const meta = result.meta;
                            const currentPrice = meta.regularMarketPrice;
                            const previousClose = meta.chartPreviousClose || meta.previousClose;
                            const changePercent = previousClose ? ((currentPrice - previousClose) / previousClose) * 100 : 0;
                            
                            indices[key] = {
                                value: currentPrice,
                                change: changePercent
                            };
                        }
                    } catch (err) {
                        console.log(`Failed to fetch ${symbol}:`, err);
                    }
                });
                
                await Promise.all(fetchPromises);
                
                // Check if we got any valid data
                const hasValidData = Object.values(indices).some(idx => idx.value !== null);
                
                if (!hasValidData) {
                    // Fallback: Use alternative free API for indices
                    await fetchIndicesFallback(indices);
                }
                
            } catch (error) {
                console.error('Indices API Error:', error);
                // Use fallback
                await fetchIndicesFallback(indices);
            }
            
            updateIndicesUI(indices);
        }
        
        // Fallback function to fetch indices from alternative sources
        async function fetchIndicesFallback(indices) {
            try {
                // Try alternative CORS proxy
                const symbols = [
                    { symbol: '^GSPC', key: 'sp500' },
                    { symbol: '^IXIC', key: 'nasdaq' },
                    { symbol: '^NSEI', key: 'nifty' },
                    { symbol: '^BSESN', key: 'sensex' }
                ];
                
                for (const { symbol, key } of symbols) {
                    if (indices[key].value !== null) continue;
                    
                    try {
                        const yahooUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${encodeURIComponent(symbol)}?interval=1d&range=1d`;
                        const response = await fetchWithTimeout(`https://api.allorigins.win/raw?url=${encodeURIComponent(yahooUrl)}`);
                        const data = await response.json();
                        
                        if (data.chart && data.chart.result && data.chart.result[0]) {
                            const meta = data.chart.result[0].meta;
                            const currentPrice = meta.regularMarketPrice;
                            const previousClose = meta.chartPreviousClose || meta.previousClose;
                            const changePercent = previousClose ? ((currentPrice - previousClose) / previousClose) * 100 : 0;
                            
                            indices[key] = {
                                value: currentPrice,
                                change: changePercent
                            };
                        }
                    } catch (err) {
                        console.log(`Fallback failed for ${symbol}:`, err);
                    }
                }
                
            } catch (error) {
                console.error('Fallback API also failed:', error);
            }
        }

        function updateIndicesUI(indices) {
            // S&P 500
            if (indices.sp500.value !== null) {
                document.getElementById('sp500Value').textContent = formatNumber(indices.sp500.value);
                document.getElementById('sp500Change').textContent = (indices.sp500.change >= 0 ? '+' : '') + indices.sp500.change.toFixed(2) + '%';
                document.getElementById('sp500Change').className = 'index-change ' + (indices.sp500.change >= 0 ? 'positive' : 'negative');
            } else {
                document.getElementById('sp500Value').textContent = 'N/A';
                document.getElementById('sp500Change').textContent = '--';
                document.getElementById('sp500Change').className = 'index-change';
            }
            
            // NASDAQ
            if (indices.nasdaq.value !== null) {
                document.getElementById('nasdaqValue').textContent = formatNumber(indices.nasdaq.value);
                document.getElementById('nasdaqChange').textContent = (indices.nasdaq.change >= 0 ? '+' : '') + indices.nasdaq.change.toFixed(2) + '%';
                document.getElementById('nasdaqChange').className = 'index-change ' + (indices.nasdaq.change >= 0 ? 'positive' : 'negative');
            } else {
                document.getElementById('nasdaqValue').textContent = 'N/A';
                document.getElementById('nasdaqChange').textContent = '--';
                document.getElementById('nasdaqChange').className = 'index-change';
            }
            
            // NIFTY 50
            if (indices.nifty.value !== null) {
                document.getElementById('niftyValue').textContent = formatNumber(indices.nifty.value);
                document.getElementById('niftyChange').textContent = (indices.nifty.change >= 0 ? '+' : '') + indices.nifty.change.toFixed(2) + '%';
                document.getElementById('niftyChange').className = 'index-change ' + (indices.nifty.change >= 0 ? 'positive' : 'negative');
            } else {
                document.getElementById('niftyValue').textContent = 'N/A';
                document.getElementById('niftyChange').textContent = '--';
                document.getElementById('niftyChange').className = 'index-change';
            }
            
            // SENSEX
            if (indices.sensex.value !== null) {
                document.getElementById('sensexValue').textContent = formatNumber(indices.sensex.value);
                document.getElementById('sensexChange').textContent = (indices.sensex.change >= 0 ? '+' : '') + indices.sensex.change.toFixed(2) + '%';
                document.getElementById('sensexChange').className = 'index-change ' + (indices.sensex.change >= 0 ? 'positive' : 'negative');
            } else {
                document.getElementById('sensexValue').textContent = 'N/A';
                document.getElementById('sensexChange').textContent = '--';
                document.getElementById('sensexChange').className = 'index-change';
            }
        }

        // Generate AI Insight based on all data
        function generateAIInsight() {
            const insights = [];
            const tags = [];
            
            // Analyze Fear & Greed
            if (marketData.fearGreed && marketData.fearGreed[0]) {
                const fg = parseInt(marketData.fearGreed[0].value);
                if (fg <= 25) {
                    insights.push("üî¥ <strong>Extreme Fear</strong> detected in crypto markets. Historically, this has been a contrarian buying opportunity for long-term investors.");
                    tags.push("Extreme Fear", "Potential Buy Zone");
                } else if (fg <= 45) {
                    insights.push("üü† <strong>Fear</strong> sentiment prevails. Markets are cautious. Consider dollar-cost averaging into positions.");
                    tags.push("Fear", "DCA Opportunity");
                } else if (fg >= 75) {
                    insights.push("üü¢ <strong>Extreme Greed</strong> is dominating! Exercise caution - markets may be overheated. Consider taking partial profits.");
                    tags.push("Extreme Greed", "Take Profits");
                } else if (fg >= 55) {
                    insights.push("üü° <strong>Greed</strong> is building in the market. Momentum is positive but watch for reversal signals.");
                    tags.push("Greed", "Momentum Play");
                } else {
                    insights.push("‚öñÔ∏è Market sentiment is <strong>Neutral</strong>. This is often a consolidation phase - wait for clearer direction.");
                    tags.push("Neutral", "Consolidation");
                }
            }
            
            // Analyze Crypto Performance
            if (marketData.crypto && marketData.crypto.length > 0) {
                const btc = marketData.crypto.find(c => c.symbol === 'btc');
                const eth = marketData.crypto.find(c => c.symbol === 'eth');
                
                if (btc && btc.price_change_percentage_24h > 3) {
                    insights.push("‚Çø Bitcoin is showing strong momentum with +" + btc.price_change_percentage_24h.toFixed(1) + "% in 24h. Watch for altcoin rotation.");
                    tags.push("BTC Rally");
                } else if (btc && btc.price_change_percentage_24h < -3) {
                    insights.push("‚Çø Bitcoin down " + btc.price_change_percentage_24h.toFixed(1) + "% today. Check support levels and avoid catching falling knives.");
                    tags.push("BTC Dip");
                }
            }
            
            // Analyze Global Data
            if (marketData.globalData) {
                const btcDom = marketData.globalData.market_cap_percentage.btc;
                if (btcDom > 55) {
                    insights.push("üëë Bitcoin dominance at " + btcDom.toFixed(1) + "% suggests 'Bitcoin Season'. Altcoins may underperform.");
                    tags.push("BTC Season");
                } else if (btcDom < 45) {
                    insights.push("üöÄ Bitcoin dominance below 45% signals 'Altcoin Season'. High-cap alts may outperform BTC.");
                    tags.push("Altcoin Season");
                }
            }
            
            // Currency insight
            if (marketData.currencies && marketData.currencies.INR) {
                const usdInr = marketData.currencies.INR;
                if (usdInr > 85) {
                    insights.push("üí± INR weakening against USD (‚Çπ" + usdInr.toFixed(2) + "). Consider hedging or international diversification.");
                    tags.push("INR Weak");
                }
            }
            
            // Default insight if no data
            if (insights.length === 0) {
                insights.push("üìä Gathering market intelligence from multiple sources. Please wait for data to load completely.");
                tags.push("Loading");
            }
            
            document.getElementById('aiInsight').innerHTML = insights.join('<br><br>');
            document.getElementById('insightTags').innerHTML = tags.map(t => `<span class="insight-tag">${t}</span>`).join('');
        }

        // Utility Functions
        function formatNumber(num) {
            if (num >= 10000000) return (num / 10000000).toFixed(2) + ' Cr';
            if (num >= 100000) return (num / 100000).toFixed(2) + ' L';
            if (num >= 1000) return num.toLocaleString('en-IN');
            return num.toFixed(2);
        }

        function formatLargeNumber(num) {
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e7) return (num / 1e7).toFixed(2) + 'Cr';
            if (num >= 1e5) return (num / 1e5).toFixed(2) + 'L';
            return num.toLocaleString('en-IN');
        }

        function updateLastUpdated() {
            const now = new Date();
            document.getElementById('lastUpdated').textContent = now.toLocaleTimeString('en-IN', { 
                hour: '2-digit', 
                minute: '2-digit',
                second: '2-digit',
                hour12: true 
            });
        }

        // Load cached data immediately for instant display
        function loadCachedDataFirst() {
            const fearGreedCache = getCache(CACHE_KEYS.fearGreed);
            const cryptoCache = getCache(CACHE_KEYS.crypto);
            const globalCache = getCache(CACHE_KEYS.global);
            const currencyCache = getCache(CACHE_KEYS.currency);
            
            // Show cached data immediately
            if (fearGreedCache) applyFearGreedData(fearGreedCache.data);
            if (cryptoCache) applyCryptoData(cryptoCache.data);
            if (globalCache) applyGlobalData(globalCache.data);
            if (currencyCache) applyCurrencyData(currencyCache.data);
            
            // Generate AI insight if we have some data
            if (marketData.fearGreed || marketData.crypto.length > 0) {
                generateAIInsight();
            }
        }

        // Initialize Dashboard
        async function initDashboard() {
            updateLastUpdated();
            
            // Load cached data immediately for instant display
            loadCachedDataFirst();
            
            // Fetch all data in parallel (non-blocking)
            const fetchPromises = [
                fetchFearGreedIndex(),
                fetchCryptoData(),
                fetchGlobalData(),
                fetchCurrencyRates(),
                fetchIndices()
            ];
            
            // Use Promise.allSettled to not block on failed requests
            await Promise.allSettled(fetchPromises);
            
            // Generate AI insight after all data is loaded
            generateAIInsight();
            updateLastUpdated();
        }

        // Auto-refresh every 60 seconds
        initDashboard();
        setInterval(initDashboard, 60000);
    </script>
</body>
</html>
