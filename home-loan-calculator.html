<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N0Y2LBMRSW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-N0Y2LBMRSW');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Loan EMI Calculator 2026: Calculate Housing Loan EMI, Interest & Eligibility | BroBillionaire</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="responsive.css">
    
    <meta name="description" content="Home Loan EMI Calculator 2026: Calculate monthly EMI, total interest, eligibility, and prepayment benefits. Compare SBI, HDFC, ICICI home loan rates. Free housing loan calculator with amortization schedule.">
    <meta name="keywords" content="home loan EMI calculator, home loan calculator 2026, housing loan EMI calculator, home loan interest calculator, SBI home loan calculator, HDFC home loan EMI, home loan eligibility calculator, mortgage calculator India, home loan prepayment calculator">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://brobillionaire.com/home-loan-calculator.html">
    
    <meta property="og:title" content="Home Loan EMI Calculator 2026: Calculate EMI, Interest & Eligibility">
    <meta property="og:description" content="Free home loan EMI calculator with bank rate comparison. Calculate monthly EMI, total interest, prepayment savings, and eligibility.">
    <meta property="og:url" content="https://brobillionaire.com/home-loan-calculator.html">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://brobillionaire.com/og-image.jpg">
    <link rel="icon" type="image/jpeg" href="logo.jpg">
    
</head>
<body>
    <!-- Top Announcement Bar -->
    <div class="top-bar" style="background: linear-gradient(135deg, #C9A227 0%, #a8861f 100%); padding: 10px 20px; text-align: center; position: fixed; top: 0; left: 0; right: 0; z-index: 1001;">
        <span style="color: #000; font-size: 0.85rem; font-weight: 500;">
            <i class="fas fa-home"></i> Plan Your Dream Home ‚Äì Calculate Your EMI Now! <i class="fas fa-home"></i>
        </span>
    </div>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <img src="logo.jpg" alt="BroBillionaire" class="logo-img">
                <span class="logo-text">BroBillionaire</span>
            </a>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="articles.html" class="nav-link">Articles</a>
                <a href="sip-calculator.html" class="nav-link">SIP Calculator</a>
                <a href="home-loan-calculator.html" class="nav-link active">Home Loan</a>
            </div>
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>
    <div class="mobile-nav-dropdown" id="mobileNavDropdown">
        <a href="index.html">Home</a>
        <a href="articles.html">Articles</a>
        <a href="tools.html">Calculators</a>
        <a href="viral-tools-hub.html">Viral Tools</a>
        <a href="community.html">Community</a>
        <a href="about.html">About</a>
    </div>

    <!-- Hero Section -->
    <section class="calc-hero">
        <div class="hero-badge">
            <i class="fas fa-home"></i>
            Free EMI Calculator
        </div>
        <h1>Home Loan <span>Calculator</span></h1>
        <p>Plan your dream home purchase! Calculate EMI, total interest, and see your complete loan repayment schedule.</p>
    </section>

    <!-- Calculator Section -->
    <section class="calculator-section">
        <div class="calculator-container">
            <!-- Input Panel -->
            <div class="input-panel">
                <div class="panel-title">
                    <i class="fas fa-sliders-h"></i>
                    Loan Details
                </div>
                
                <!-- Loan Amount -->
                <div class="input-group">
                    <div class="input-label">
                        <span>Loan Amount</span>
                        <span class="input-value highlight" id="loanDisplay">‚Çπ50,00,000</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="loanAmount" min="100000" max="100000000" value="5000000" step="100000">
                    </div>
                    <div class="slider-labels">
                        <span>‚Çπ1 Lakh</span>
                        <span>‚Çπ10 Crore</span>
                    </div>
                    <div class="quick-amounts">
                        <button class="quick-btn" data-amount="2500000">‚Çπ25L</button>
                        <button class="quick-btn" data-amount="5000000">‚Çπ50L</button>
                        <button class="quick-btn" data-amount="7500000">‚Çπ75L</button>
                        <button class="quick-btn" data-amount="10000000">‚Çπ1Cr</button>
                    </div>
                </div>
                
                <!-- Interest Rate -->
                <div class="input-group">
                    <div class="input-label">
                        <span>Interest Rate (p.a.)</span>
                        <span class="input-value highlight" id="interestDisplay">8.5%</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="interestRate" min="5" max="20" value="8.5" step="0.1">
                    </div>
                    <div class="slider-labels">
                        <span>5%</span>
                        <span>20%</span>
                    </div>
                </div>
                
                <!-- Loan Tenure -->
                <div class="input-group">
                    <div class="input-label">
                        <span>Loan Tenure</span>
                        <span class="input-value" id="tenureDisplay">20 Years</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="loanTenure" min="1" max="30" value="20" step="1">
                    </div>
                    <div class="slider-labels">
                        <span>1 Year</span>
                        <span>30 Years</span>
                    </div>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="results-panel">
                <div class="panel-title">
                    <i class="fas fa-receipt"></i>
                    Your EMI Details
                </div>
                
                <!-- EMI Display -->
                <div class="emi-display">
                    <div class="emi-label">Monthly EMI</div>
                    <div class="emi-amount" id="emiAmount">‚Çπ43,391</div>
                    <div class="emi-period">for <span id="emiMonths">240</span> months</div>
                </div>
                
                <!-- Circular Chart -->
                <div class="chart-container">
                    <svg class="chart-svg" width="220" height="220" viewBox="0 0 220 220">
                        <circle class="chart-bg" cx="110" cy="110" r="90"/>
                        <circle class="chart-principal" cx="110" cy="110" r="90" 
                                stroke-dasharray="565" stroke-dashoffset="565" id="principalArc"/>
                        <circle class="chart-interest" cx="110" cy="110" r="90" 
                                stroke-dasharray="565" stroke-dashoffset="565" id="interestArc"/>
                    </svg>
                    <div class="chart-center">
                        <div class="label">Total Payment</div>
                        <div class="amount" id="totalPaymentDisplay">‚Çπ1.04 Cr</div>
                    </div>
                </div>
                
                <!-- Legend -->
                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-dot principal"></div>
                        <span>Principal</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot interest"></div>
                        <span>Interest</span>
                    </div>
                </div>
                
                <!-- Results Breakdown -->
                <div class="results-breakdown">
                    <div class="result-item principal">
                        <div class="label">
                            <i class="fas fa-building"></i>
                            <span>Principal Amount</span>
                        </div>
                        <div class="value" id="principalAmount">‚Çπ50,00,000</div>
                    </div>
                    <div class="result-item interest">
                        <div class="label">
                            <i class="fas fa-percentage"></i>
                            <span>Total Interest</span>
                        </div>
                        <div class="value" id="interestAmount">‚Çπ54,13,824</div>
                    </div>
                    <div class="result-item total">
                        <div class="label">
                            <i class="fas fa-coins"></i>
                            <span>Total Amount Payable</span>
                        </div>
                        <div class="value" id="totalAmount">‚Çπ1,04,13,824</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Amortization Section -->
        <div class="amortization-section">
            <div class="section-title">
                <i class="fas fa-chart-bar"></i>
                Year-wise Breakdown
            </div>
            
            <div class="yearly-chart">
                <canvas id="yearlyCanvas" class="yearly-canvas"></canvas>
            </div>
            
            <!-- Year Cards -->
            <div class="year-cards" id="yearCards">
                <!-- Dynamically populated -->
            </div>
        </div>

        <!-- Tips Section -->
        <div class="comparison-section">
            <div class="comparison-grid">
                <div class="comparison-card">
                    <div class="comparison-icon">
                        <i class="fas fa-piggy-bank"></i>
                    </div>
                    <div class="comparison-content">
                        <h4>Prepay When Possible</h4>
                        <p>Even small prepayments of ‚Çπ1 lakh/year can save lakhs in interest and reduce tenure by years.</p>
                    </div>
                </div>
                <div class="comparison-card">
                    <div class="comparison-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="comparison-content">
                        <h4>Shorter Tenure = Less Interest</h4>
                        <p>A 15-year loan vs 25-year can save you 30-40% in total interest paid.</p>
                    </div>
                </div>
                <div class="comparison-card">
                    <div class="comparison-icon">
                        <i class="fas fa-hand-holding-usd"></i>
                    </div>
                    <div class="comparison-content">
                        <h4>Compare Interest Rates</h4>
                        <p>A 0.5% lower rate on ‚Çπ50L loan saves ‚Çπ4-5 lakhs over the loan tenure.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Prepayment Calculator -->
        <div class="prepayment-section">
            <div class="section-title">
                <i class="fas fa-bolt"></i>
                Prepayment Impact Calculator
            </div>
            
            <div class="prepayment-grid">
                <div class="prepayment-input">
                    <div class="input-group" style="margin-bottom: 0;">
                        <div class="input-label">
                            <span>Annual Prepayment Amount</span>
                            <span class="input-value highlight" id="prepayDisplay">‚Çπ1,00,000</span>
                        </div>
                        <div class="slider-container">
                            <input type="range" id="prepayAmount" min="0" max="1000000" value="100000" step="10000">
                        </div>
                        <div class="slider-labels">
                            <span>‚Çπ0</span>
                            <span>‚Çπ10 Lakh</span>
                        </div>
                    </div>
                </div>
                
                <div class="prepayment-results">
                    <div class="savings-card">
                        <div class="label">Interest Saved</div>
                        <div class="amount" id="interestSaved">‚Çπ12,45,000</div>
                        <div class="sub">with annual prepayment</div>
                    </div>
                    <div class="savings-card" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.05) 100%); border-color: rgba(59, 130, 246, 0.3);">
                        <div class="label">Tenure Reduced By</div>
                        <div class="amount" style="color: #3b82f6;" id="tenureReduced">4.5 Years</div>
                        <div class="sub">earlier loan closure</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="faq-section">
            <div class="section-title">
                <i class="fas fa-question-circle"></i>
                Frequently Asked Questions
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <span>What is EMI and how is it calculated?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>EMI (Equated Monthly Installment) is calculated using the formula: EMI = P √ó r √ó (1 + r)^n / ((1 + r)^n ‚Äì 1), where P is principal, r is monthly interest rate, and n is number of months. Our calculator does this automatically for you.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <span>What is a good home loan interest rate in India?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Currently, good home loan rates in India range from 8.25% to 9.5% for salaried individuals. Rates depend on your credit score, loan amount, property type, and the lender. Always compare multiple banks before deciding.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <span>Should I choose floating or fixed interest rate?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Floating rates are usually 0.5-1% lower than fixed rates and allow you to benefit when RBI cuts rates. However, they can increase too. For long tenures (15+ years), floating is generally preferred as rates tend to average out.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <span>What is the maximum loan I can get?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Banks typically offer 75-90% of property value as loan. Your eligibility depends on income, existing EMIs, credit score, and age. A general rule: your total EMIs shouldn't exceed 50-60% of your monthly income.</p>
                </div>
            </div>
        </div>

        <!-- Footer CTA -->
        <div class="footer-cta">
            <h3>Ready to Build Your Wealth? üè†</h3>
            <p>Learn about smart money management, investing, and financial planning with our free articles.</p>
            <div class="cta-buttons">
                <a href="sip-calculator.html" class="cta-btn secondary">
                    <i class="fas fa-calculator"></i>
                    Try SIP Calculator
                </a>
                <a href="articles.html" class="cta-btn">
                    <i class="fas fa-book-open"></i>
                    Explore 185+ Articles
                </a>
            </div>
        </div>
    </section>

    <script>
        // Format number to Indian currency format
        function formatIndianCurrency(num) {
            if (num >= 10000000) {
                return '‚Çπ' + (num / 10000000).toFixed(2) + ' Cr';
            } else if (num >= 100000) {
                return '‚Çπ' + (num / 100000).toFixed(2) + ' L';
            } else {
                return '‚Çπ' + num.toLocaleString('en-IN');
            }
        }

        function formatFullCurrency(num) {
            return '‚Çπ' + Math.round(num).toLocaleString('en-IN');
        }

        // Calculate EMI
        function calculateEMI(principal, annualRate, years) {
            const monthlyRate = annualRate / 12 / 100;
            const months = years * 12;
            
            // EMI = P √ó r √ó (1 + r)^n / ((1 + r)^n ‚Äì 1)
            const emi = principal * monthlyRate * Math.pow(1 + monthlyRate, months) / (Math.pow(1 + monthlyRate, months) - 1);
            const totalPayment = emi * months;
            const totalInterest = totalPayment - principal;
            
            return {
                emi: Math.round(emi),
                totalPayment: Math.round(totalPayment),
                totalInterest: Math.round(totalInterest),
                principal: principal,
                months: months
            };
        }

        // Get yearly amortization schedule
        function getYearlySchedule(principal, annualRate, years) {
            const monthlyRate = annualRate / 12 / 100;
            const months = years * 12;
            const emi = calculateEMI(principal, annualRate, years).emi;
            
            let balance = principal;
            const schedule = [];
            let yearlyPrincipal = 0;
            let yearlyInterest = 0;
            
            for (let month = 1; month <= months; month++) {
                const interestPayment = balance * monthlyRate;
                const principalPayment = emi - interestPayment;
                balance -= principalPayment;
                
                yearlyPrincipal += principalPayment;
                yearlyInterest += interestPayment;
                
                if (month % 12 === 0 || month === months) {
                    schedule.push({
                        year: Math.ceil(month / 12),
                        principal: Math.round(yearlyPrincipal),
                        interest: Math.round(yearlyInterest),
                        balance: Math.max(0, Math.round(balance)),
                        totalPaid: Math.round(yearlyPrincipal + yearlyInterest)
                    });
                    yearlyPrincipal = 0;
                    yearlyInterest = 0;
                }
            }
            
            return schedule;
        }

        // Calculate prepayment savings
        function calculatePrepaymentSavings(principal, annualRate, years, annualPrepay) {
            if (annualPrepay === 0) {
                return { interestSaved: 0, yearsReduced: 0 };
            }
            
            const monthlyRate = annualRate / 12 / 100;
            const emi = calculateEMI(principal, annualRate, years).emi;
            
            // Without prepayment
            const totalInterestOriginal = calculateEMI(principal, annualRate, years).totalInterest;
            
            // With prepayment
            let balance = principal;
            let totalInterestPaid = 0;
            let month = 0;
            
            while (balance > 0 && month < years * 12 * 2) {
                month++;
                const interestPayment = balance * monthlyRate;
                const principalPayment = Math.min(emi - interestPayment, balance);
                balance -= principalPayment;
                totalInterestPaid += interestPayment;
                
                // Annual prepayment at end of each year
                if (month % 12 === 0 && balance > 0) {
                    balance -= Math.min(annualPrepay, balance);
                }
            }
            
            const interestSaved = totalInterestOriginal - Math.round(totalInterestPaid);
            const originalMonths = years * 12;
            const newMonths = month;
            const yearsReduced = (originalMonths - newMonths) / 12;
            
            return {
                interestSaved: Math.max(0, interestSaved),
                yearsReduced: Math.max(0, yearsReduced).toFixed(1)
            };
        }

        // Update slider progress
        function updateSliderProgress(slider) {
            const min = parseFloat(slider.min);
            const max = parseFloat(slider.max);
            const value = parseFloat(slider.value);
            const progress = ((value - min) / (max - min)) * 100;
            slider.style.setProperty('--progress', progress + '%');
        }

        // Draw yearly chart
        function drawYearlyChart(schedule, principal) {
            const canvas = document.getElementById('yearlyCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = canvas.offsetWidth * 2;
            canvas.height = canvas.offsetHeight * 2;
            ctx.scale(2, 2);
            
            const width = canvas.offsetWidth;
            const height = canvas.offsetHeight;
            const padding = { top: 40, right: 30, bottom: 50, left: 70 };
            
            const chartWidth = width - padding.left - padding.right;
            const chartHeight = height - padding.top - padding.bottom;
            
            ctx.clearRect(0, 0, width, height);
            
            const maxPayment = Math.max(...schedule.map(s => s.principal + s.interest));
            const barWidth = (chartWidth / schedule.length) * 0.7;
            const gap = (chartWidth / schedule.length) * 0.3;
            
            // Draw grid
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 5; i++) {
                const y = padding.top + (chartHeight * i / 5);
                ctx.beginPath();
                ctx.moveTo(padding.left, y);
                ctx.lineTo(width - padding.right, y);
                ctx.stroke();
                
                ctx.fillStyle = '#666';
                ctx.font = '11px Inter';
                ctx.textAlign = 'right';
                const value = maxPayment - (maxPayment * i / 5);
                ctx.fillText(formatIndianCurrency(value), padding.left - 10, y + 4);
            }
            
            // Draw bars
            schedule.forEach((year, i) => {
                const x = padding.left + (i * (barWidth + gap)) + gap / 2;
                const principalHeight = (year.principal / maxPayment) * chartHeight;
                const interestHeight = (year.interest / maxPayment) * chartHeight;
                
                // Interest bar (bottom)
                ctx.fillStyle = '#C9A227';
                ctx.beginPath();
                ctx.roundRect(x, padding.top + chartHeight - interestHeight, barWidth, interestHeight, [4, 4, 0, 0]);
                ctx.fill();
                
                // Principal bar (top)
                ctx.fillStyle = '#22c55e';
                ctx.beginPath();
                ctx.roundRect(x, padding.top + chartHeight - interestHeight - principalHeight, barWidth, principalHeight, [4, 4, 0, 0]);
                ctx.fill();
                
                // X-axis labels
                if (schedule.length <= 10 || i % Math.ceil(schedule.length / 10) === 0) {
                    ctx.fillStyle = '#666';
                    ctx.font = '11px Inter';
                    ctx.textAlign = 'center';
                    ctx.fillText('Y' + year.year, x + barWidth / 2, height - padding.bottom + 20);
                }
            });
            
            // Legend
            ctx.fillStyle = '#22c55e';
            ctx.fillRect(padding.left, 15, 15, 10);
            ctx.fillStyle = '#aaa';
            ctx.font = '12px Inter';
            ctx.textAlign = 'left';
            ctx.fillText('Principal', padding.left + 22, 23);
            
            ctx.fillStyle = '#C9A227';
            ctx.fillRect(padding.left + 100, 15, 15, 10);
            ctx.fillStyle = '#aaa';
            ctx.fillText('Interest', padding.left + 122, 23);
        }

        // Update year cards
        function updateYearCards(schedule) {
            const container = document.getElementById('yearCards');
            const years = schedule.length;
            
            // Show first year, middle years, and last year
            let displayYears = [];
            if (years <= 5) {
                displayYears = schedule;
            } else {
                displayYears = [
                    schedule[0],
                    schedule[Math.floor(years / 3)],
                    schedule[Math.floor(2 * years / 3)],
                    schedule[years - 1]
                ];
            }
            
            container.innerHTML = displayYears.map(year => {
                const total = year.principal + year.interest;
                const principalPercent = (year.principal / total * 100).toFixed(0);
                const interestPercent = (year.interest / total * 100).toFixed(0);
                
                return `
                    <div class="year-card">
                        <div class="year-card-header">
                            <div class="year-label">Year ${year.year}</div>
                            <div class="year-balance">Balance: <strong>${formatIndianCurrency(year.balance)}</strong></div>
                        </div>
                        <div class="year-details">
                            <div class="year-detail principal">
                                <span class="label">Principal Paid</span>
                                <span class="value">${formatFullCurrency(year.principal)}</span>
                            </div>
                            <div class="year-detail interest">
                                <span class="label">Interest Paid</span>
                                <span class="value">${formatFullCurrency(year.interest)}</span>
                            </div>
                        </div>
                        <div class="year-progress">
                            <div class="progress-principal" style="width: ${principalPercent}%"></div>
                            <div class="progress-interest" style="width: ${interestPercent}%"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Update circular chart
        function updateCircularChart(principal, interest) {
            const total = principal + interest;
            const circumference = 565; // 2 * PI * 90
            
            const principalPercent = principal / total;
            const interestPercent = interest / total;
            
            const principalArc = document.getElementById('principalArc');
            const interestArc = document.getElementById('interestArc');
            
            // Principal arc
            principalArc.style.strokeDashoffset = circumference * (1 - principalPercent);
            
            // Interest arc (starts where principal ends)
            interestArc.style.strokeDasharray = circumference;
            interestArc.style.strokeDashoffset = circumference * (1 - principalPercent - interestPercent);
            interestArc.style.transform = `rotate(${principalPercent * 360}deg)`;
            interestArc.style.transformOrigin = 'center';
        }

        // Main update function
        function updateCalculator() {
            const loanAmount = parseInt(document.getElementById('loanAmount').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const tenure = parseInt(document.getElementById('loanTenure').value);
            const prepayAmount = parseInt(document.getElementById('prepayAmount').value);
            
            // Update displays
            document.getElementById('loanDisplay').textContent = formatFullCurrency(loanAmount);
            document.getElementById('interestDisplay').textContent = interestRate + '%';
            document.getElementById('tenureDisplay').textContent = tenure + (tenure === 1 ? ' Year' : ' Years');
            document.getElementById('prepayDisplay').textContent = formatFullCurrency(prepayAmount);
            
            // Calculate
            const result = calculateEMI(loanAmount, interestRate, tenure);
            
            // Update EMI results
            document.getElementById('emiAmount').textContent = formatFullCurrency(result.emi);
            document.getElementById('emiMonths').textContent = result.months;
            document.getElementById('principalAmount').textContent = formatFullCurrency(result.principal);
            document.getElementById('interestAmount').textContent = formatFullCurrency(result.totalInterest);
            document.getElementById('totalAmount').textContent = formatFullCurrency(result.totalPayment);
            document.getElementById('totalPaymentDisplay').textContent = formatIndianCurrency(result.totalPayment);
            
            // Update circular chart
            updateCircularChart(result.principal, result.totalInterest);
            
            // Update yearly schedule
            const schedule = getYearlySchedule(loanAmount, interestRate, tenure);
            drawYearlyChart(schedule, loanAmount);
            updateYearCards(schedule);
            
            // Update prepayment savings
            const savings = calculatePrepaymentSavings(loanAmount, interestRate, tenure, prepayAmount);
            document.getElementById('interestSaved').textContent = formatFullCurrency(savings.interestSaved);
            document.getElementById('tenureReduced').textContent = savings.yearsReduced + ' Years';
            
            // Update slider progress
            updateSliderProgress(document.getElementById('loanAmount'));
            updateSliderProgress(document.getElementById('interestRate'));
            updateSliderProgress(document.getElementById('loanTenure'));
            updateSliderProgress(document.getElementById('prepayAmount'));
        }

        // Event listeners
        document.getElementById('loanAmount').addEventListener('input', updateCalculator);
        document.getElementById('interestRate').addEventListener('input', updateCalculator);
        document.getElementById('loanTenure').addEventListener('input', updateCalculator);
        document.getElementById('prepayAmount').addEventListener('input', updateCalculator);

        // Quick amount buttons
        document.querySelectorAll('.quick-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.getElementById('loanAmount').value = btn.dataset.amount;
                updateCalculator();
            });
        });

        // FAQ accordion
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const item = question.parentElement;
                const answer = item.querySelector('.faq-answer');
                const isOpen = item.classList.contains('active');
                
                document.querySelectorAll('.faq-item').forEach(faq => {
                    faq.classList.remove('active');
                    faq.querySelector('.faq-answer').classList.remove('open');
                });
                
                if (!isOpen) {
                    item.classList.add('active');
                    answer.classList.add('open');
                }
            });
        });

        // Initialize
        window.addEventListener('load', updateCalculator);
        window.addEventListener('resize', updateCalculator);
    </script>

    <script>
    function toggleMobileMenu() {
        const toggle = document.querySelector('.mobile-menu-toggle');
        const dropdown = document.getElementById('mobileNavDropdown');
        if (toggle && dropdown) {
            toggle.classList.toggle('active');
            dropdown.classList.toggle('active');
        }
    }
    
    // Close mobile menu when clicking outside
    document.addEventListener('click', function(e) {
        const toggle = document.querySelector('.mobile-menu-toggle');
        const dropdown = document.getElementById('mobileNavDropdown');
        if (toggle && dropdown && !toggle.contains(e.target) && !dropdown.contains(e.target)) {
            toggle.classList.remove('active');
            dropdown.classList.remove('active');
        }
    });
    
    // Close mobile menu when clicking a link
    document.querySelectorAll('.mobile-nav-dropdown a').forEach(link => {
        link.addEventListener('click', () => {
            const toggle = document.querySelector('.mobile-menu-toggle');
            const dropdown = document.getElementById('mobileNavDropdown');
            if (toggle && dropdown) {
                toggle.classList.remove('active');
                dropdown.classList.remove('active');
            }
        });
    });
    </script>
</body>
</html>
