<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N0Y2LBMRSW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-N0Y2LBMRSW');
    </script>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="96x96" href="favicon-96.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">

    <!-- Primary Meta Tags -->
    <title>Stop Loss Calculator FREE - Trailing Stop Loss Calculator India 2026 | BroBillionaire</title>
    <meta name="title" content="Stop Loss Calculator FREE - ATR Stop Loss Calculator 2026">
    <meta name="description"
        content="FREE Stop Loss Calculator - Calculate optimal stop loss levels for your trades. Find stop loss price based on percentage, ATR or fixed points. Essential risk management tool for traders. Protect your capital!">
    <meta name="keywords"
        content="stop loss calculator, trailing stop loss calculator, stop loss calculator India, ATR stop loss calculator, percentage stop loss calculator, stop loss price calculator, risk management calculator, stop loss tool, trading stop loss calculator, how to calculate stop loss 2026">
    <meta name="author" content="BroBillionaire">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://brobillionaire.com/tool-stoploss-calculator.html">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://brobillionaire.com/tool-stoploss-calculator.html">
    <meta property="og:title" content="FREE Stop Loss Calculator - Calculate Optimal Stop Loss">
    <meta property="og:description"
        content="Calculate stop loss levels based on percentage, ATR or fixed points. Essential risk management tool!">
    <meta property="og:image" content="https://brobillionaire.com/og-image.jpg">
    <meta property="og:site_name" content="BroBillionaire">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://brobillionaire.com/tool-stoploss-calculator.html">
    <meta name="twitter:title" content="FREE Stop Loss Calculator - Risk Management Tool">
    <meta name="twitter:description"
        content="Calculate optimal stop loss levels for trading. ATR & percentage-based calculator!">
    <meta name="twitter:image" content="https://brobillionaire.com/og-image.jpg">

    <meta name="theme-color" content="#C9A227">

    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --gold: #C9A227;
            --gold-dark: #a68b1e;
            --bg-primary: #0a0a0a;
            --bg-secondary: #0d0d0d;
            --bg-card: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --text-muted: #666666;
            --border-color: rgba(201, 162, 39, 0.2);
            --success: #4ade80;
            --danger: #ef4444;
            --warning: #fbbf24;
            --info: #60a5fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #1a1a2e 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .tool-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px 80px;
        }

        /* Hero Section */
        .tool-hero {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
            padding: 40px 20px;
        }

        .tool-hero::before {
            content: '';
            position: absolute;
            top: -150px;
            left: 50%;
            transform: translateX(-50%);
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, rgba(201, 162, 39, 0.15) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.5;
                transform: translateX(-50%) scale(1);
            }

            50% {
                opacity: 1;
                transform: translateX(-50%) scale(1.1);
            }
        }

        .tool-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: #000;
            padding: 10px 24px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 800;
            letter-spacing: 2px;
            margin-bottom: 25px;
            text-transform: uppercase;
            box-shadow: 0 5px 20px rgba(201, 162, 39, 0.4);
            position: relative;
            z-index: 1;
        }

        .tool-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3rem, 6vw, 5rem);
            font-weight: 800;
            color: var(--gold);
            margin-bottom: 20px;
            text-shadow: 0 5px 30px rgba(201, 162, 39, 0.3);
            position: relative;
            z-index: 1;
        }

        .tool-subtitle {
            color: var(--text-secondary);
            font-size: 1.25rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
            position: relative;
            z-index: 1;
        }

        /* Main Grid Layout */
        .calc-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 1100px) {
            .calc-wrapper {
                grid-template-columns: 1fr;
            }
        }

        /* Cards */
        .calc-card {
            background: linear-gradient(145deg, var(--bg-card), var(--bg-secondary));
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 40px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .calc-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at top right, rgba(201, 162, 39, 0.05), transparent);
            pointer-events: none;
        }

        .calc-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 60px rgba(201, 162, 39, 0.2);
            border-color: var(--gold);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            position: relative;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #000;
            box-shadow: 0 5px 20px rgba(201, 162, 39, 0.3);
        }

        .card-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--gold);
        }

        /* Input Groups */
        .input-group {
            margin-bottom: 25px;
            position: relative;
        }

        .input-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .input-hint {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 400;
            text-transform: none;
            letter-spacing: 0;
        }

        .input-field,
        .select-field {
            width: 100%;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 16px 20px;
            color: var(--text-primary);
            font-size: 1.1rem;
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .input-field:focus,
        .select-field:focus {
            outline: none;
            border-color: var(--gold);
            box-shadow: 0 0 0 4px rgba(201, 162, 39, 0.15);
            background: #1a1a1a;
        }

        .input-field:hover,
        .select-field:hover {
            border-color: rgba(201, 162, 39, 0.4);
        }

        .select-field {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23C9A227' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 24px;
            padding-right: 50px;
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: #000;
            border: none;
            padding: 20px 40px;
            border-radius: 14px;
            font-size: 1.2rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.4s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(201, 162, 39, 0.4);
        }

        .calculate-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .calculate-btn:hover::before {
            width: 400px;
            height: 400px;
        }

        .calculate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(201, 162, 39, 0.6);
        }

        .calculate-btn:active {
            transform: translateY(-1px);
        }

        .btn-text {
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        /* Results Section */
        .results-section {
            background: linear-gradient(145deg, var(--bg-card), var(--bg-secondary));
            border: 2px solid var(--gold);
            border-radius: 24px;
            padding: 40px;
            position: relative;
            overflow: hidden;
        }

        .results-section::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(201, 162, 39, 0.1), transparent);
            pointer-events: none;
        }

        /* Main Result Display */
        .main-result {
            text-align: center;
            padding: 50px 30px;
            background: linear-gradient(145deg, var(--bg-secondary), #0a0a0a);
            border-radius: 20px;
            margin-bottom: 30px;
            position: relative;
            border: 1px solid var(--border-color);
        }

        .result-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .result-value {
            font-size: 5rem;
            font-weight: 800;
            color: var(--danger);
            line-height: 1;
            margin-bottom: 10px;
            text-shadow: 0 5px 30px rgba(239, 68, 68, 0.5);
            font-family: 'Playfair Display', serif;
        }

        .result-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .result-badge {
            display: inline-block;
            background: rgba(239, 68, 68, 0.15);
            border: 1px solid var(--danger);
            color: var(--danger);
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 700;
            margin-top: 15px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--gold), transparent);
        }

        .stat-card:hover {
            transform: translateY(-3px);
            border-color: var(--gold);
            box-shadow: 0 10px 30px rgba(201, 162, 39, 0.2);
        }

        .stat-icon {
            font-size: 2rem;
            margin-bottom: 12px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--gold);
            font-family: 'Playfair Display', serif;
        }

        /* Visual Chart */
        .visual-chart {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 35px;
            margin-bottom: 30px;
        }

        .chart-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .price-levels {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .price-level {
            display: grid;
            grid-template-columns: 120px 1fr 120px;
            align-items: center;
            gap: 20px;
        }

        .level-label {
            font-weight: 700;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .level-bar {
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            padding: 0 25px;
            font-weight: 700;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .level-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            100% {
                left: 100%;
            }
        }

        .level-entry {
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            color: #fff;
        }

        .level-stop {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: #fff;
        }

        .level-trailing {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #000;
        }

        .level-percent {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-align: right;
        }

        /* Analysis Section */
        .analysis-section {
            background: linear-gradient(145deg, rgba(201, 162, 39, 0.1), rgba(201, 162, 39, 0.05));
            border: 2px solid var(--gold);
            border-radius: 16px;
            padding: 30px;
            position: relative;
        }

        .analysis-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .analysis-icon {
            font-size: 2rem;
        }

        .analysis-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gold);
            font-family: 'Playfair Display', serif;
        }

        .analysis-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .analysis-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border-left: 4px solid var(--gold);
        }

        .analysis-item i {
            font-size: 1.3rem;
            margin-top: 2px;
        }

        .analysis-text {
            flex: 1;
            line-height: 1.7;
            color: var(--text-secondary);
        }

        .analysis-text strong {
            color: var(--text-primary);
            font-weight: 700;
        }

        /* Info Box */
        .info-box {
            background: linear-gradient(145deg, rgba(96, 165, 250, 0.1), rgba(59, 130, 246, 0.05));
            border: 2px solid var(--info);
            border-radius: 16px;
            padding: 25px;
            margin-top: 30px;
        }

        .info-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
            color: var(--info);
            font-weight: 700;
            font-size: 1.1rem;
        }

        .info-content {
            color: var(--text-secondary);
            line-height: 1.8;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .tool-container {
                padding: 20px 15px 60px;
            }

            .tool-title {
                font-size: 2.5rem;
            }

            .tool-subtitle {
                font-size: 1rem;
            }

            .calc-card {
                padding: 25px;
            }

            .result-value {
                font-size: 3.5rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .price-level {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .level-label {
                margin-bottom: 5px;
            }

            .level-percent {
                text-align: left;
                margin-top: 5px;
            }
        }

        /* Toggle Switch */
        .toggle-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--bg-secondary);
            border: 2px solid var(--border-color);
            transition: 0.4s;
            border-radius: 30px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 2px;
            bottom: 2px;
            background-color: var(--text-muted);
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked+.toggle-slider {
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border-color: var(--gold);
        }

        input:checked+.toggle-slider:before {
            transform: translateX(30px);
            background-color: #000;
        }

        .toggle-label {
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 0.95rem;
        }
    </style>

    <!-- WebApplication Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Stop Loss Calculator - BroBillionaire",
        "description": "Calculate optimal stop loss levels based on percentage, ATR or fixed points for risk management in trading",
        "url": "https://brobillionaire.com/tool-stoploss-calculator.html",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "INR"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.7",
            "ratingCount": "2638"
        }
    }
    </script>

    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
        {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://brobillionaire.com/"
        },
        {
            "@type": "ListItem",
            "position": 2,
            "name": "Tools",
            "item": "https://brobillionaire.com/tools.html"
        },
        {
            "@type": "ListItem",
            "position": 3,
            "name": "Stop Loss Calculator - Trailing Stop Loss Calculator India"
        }
    ]
}
    </script>
</head>

<body>
    <div class="tool-container">
        <!-- Hero Section -->
        <div class="tool-hero">
            <div class="tool-badge">
                <i class="fas fa-shield-alt"></i> Professional Risk Management
            </div>
            <h1 class="tool-title">
                <i class="fas fa-hand-paper"></i> Stop Loss Calculator
            </h1>
            <p class="tool-subtitle">
                Calculate optimal stop loss levels to protect your capital. Advanced trailing stop loss, ATR-based, and
                percentage-based calculations for professional traders.
            </p>
        </div>

        <!-- Main Calculator Grid -->
        <div class="calc-wrapper">
            <!-- Input Card -->
            <div class="calc-card">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h2 class="card-title">Trade Setup</h2>
                </div>

                <div class="input-group">
                    <div class="input-label">
                        <span><i class="fas fa-chart-line"></i> Position Type</span>
                    </div>
                    <select class="select-field" id="positionType" onchange="calculateSL()">
                        <option value="long">Long (Buy) - Bullish</option>
                        <option value="short">Short (Sell) - Bearish</option>
                    </select>
                </div>

                <div class="input-group">
                    <div class="input-label">
                        <span><i class="fas fa-rupee-sign"></i> Entry Price</span>
                        <span class="input-hint">Your entry</span>
                    </div>
                    <input type="number" class="input-field" id="entry" value="500" step="0.01" placeholder="0.00"
                        oninput="calculateSL()">
                </div>

                <div class="input-group">
                    <div class="input-label">
                        <span><i class="fas fa-sliders-h"></i> Stop Loss Type</span>
                    </div>
                    <select class="select-field" id="slType" onchange="updateSLTypeLabel(); calculateSL();">
                        <option value="percentage">Percentage Based (%)</option>
                        <option value="fixed">Fixed Points (â‚¹)</option>
                        <option value="atr">ATR Based (ATR Ã— Multiplier)</option>
                    </select>
                </div>

                <div class="input-group">
                    <div class="input-label">
                        <span id="slValueLabel"><i class="fas fa-percentage"></i> Stop Loss Value</span>
                        <span class="input-hint" id="slValueHint">2-3% recommended</span>
                    </div>
                    <input type="number" class="input-field" id="slValue" value="2" step="0.1" placeholder="0.00"
                        oninput="calculateSL()">
                </div>

                <div class="input-group">
                    <div class="input-label">
                        <span><i class="fas fa-layer-group"></i> Quantity</span>
                        <span class="input-hint">Number of shares</span>
                    </div>
                    <input type="number" class="input-field" id="quantity" value="100" step="1" placeholder="0"
                        oninput="calculateSL()">
                </div>

                <div class="toggle-group">
                    <label class="toggle-switch">
                        <input type="checkbox" id="trailingEnabled" onchange="calculateSL()">
                        <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label">
                        <i class="fas fa-arrows-alt-v"></i> Enable Trailing Stop Loss
                    </span>
                </div>

                <div class="input-group" id="trailingGroup" style="display: none;">
                    <div class="input-label">
                        <span><i class="fas fa-chart-line"></i> Trailing %</span>
                        <span class="input-hint">Trail by percentage</span>
                    </div>
                    <input type="number" class="input-field" id="trailingPercent" value="1.5" step="0.1"
                        placeholder="0.00" oninput="calculateSL()">
                </div>

                <button class="calculate-btn" onclick="calculateSL()">
                    <span class="btn-text">
                        <i class="fas fa-calculator"></i>
                        Calculate Stop Loss
                    </span>
                </button>
            </div>

            <!-- Results Card -->
            <div class="calc-card results-section">
                <div class="card-header">
                    <div class="card-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h2 class="card-title">Results</h2>
                </div>

                <!-- Main Stop Loss Display -->
                <div class="main-result">
                    <div class="result-label">Stop Loss Price</div>
                    <div class="result-value" id="slPrice">â‚¹490.00</div>
                    <div class="result-subtitle" id="slDistance">10.00 points away</div>
                    <div class="result-badge" id="slPercentBadge">-2.00%</div>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ’°</div>
                        <div class="stat-label">Max Loss</div>
                        <div class="stat-value" id="maxLoss">â‚¹1,000</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ’µ</div>
                        <div class="stat-label">Investment</div>
                        <div class="stat-value" id="investment">â‚¹50,000</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ“Š</div>
                        <div class="stat-label">Risk %</div>
                        <div class="stat-value" id="riskPercent">2.00%</div>
                    </div>
                </div>

                <!-- Visual Chart -->
                <div class="visual-chart">
                    <div class="chart-title">
                        <i class="fas fa-chart-area"></i> Price Levels Visualization
                    </div>
                    <div class="price-levels">
                        <div class="price-level">
                            <div class="level-label" style="color: var(--info);">Entry Price</div>
                            <div class="level-bar level-entry" id="entryBar">
                                â‚¹<span id="entryDisplay">500.00</span>
                            </div>
                            <div class="level-percent">Base Level</div>
                        </div>
                        <div class="price-level">
                            <div class="level-label" style="color: var(--danger);">Stop Loss</div>
                            <div class="level-bar level-stop" id="stopBar">
                                â‚¹<span id="stopDisplay">490.00</span>
                            </div>
                            <div class="level-percent" id="stopPercDisplay">-2.00%</div>
                        </div>
                        <div class="price-level" id="trailingRow" style="display: none;">
                            <div class="level-label" style="color: var(--warning);">Trailing SL</div>
                            <div class="level-bar level-trailing" id="trailingBar">
                                â‚¹<span id="trailingDisplay">492.50</span>
                            </div>
                            <div class="level-percent" id="trailingPercDisplay">-1.50%</div>
                        </div>
                    </div>
                </div>

                <!-- Analysis -->
                <div class="analysis-section">
                    <div class="analysis-header">
                        <div class="analysis-icon">ðŸŽ¯</div>
                        <h3 class="analysis-title">Risk Analysis</h3>
                    </div>
                    <ul class="analysis-list" id="analysisList">
                        <li class="analysis-item">
                            <i class="fas fa-circle" style="color: var(--gold);"></i>
                            <div class="analysis-text">
                                <strong>Risk per share:</strong> â‚¹<span id="riskPerShare">10.00</span>
                            </div>
                        </li>
                        <li class="analysis-item">
                            <i class="fas fa-circle" style="color: var(--gold);"></i>
                            <div class="analysis-text">
                                <strong>Position size:</strong> Appropriate for your risk tolerance
                            </div>
                        </li>
                        <li class="analysis-item">
                            <i class="fas fa-circle" style="color: var(--gold);"></i>
                            <div class="analysis-text">
                                <strong>Stop distance:</strong> <span id="stopDistanceAnalysis">Well placed</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Info Box -->
                <div class="info-box">
                    <div class="info-header">
                        <i class="fas fa-lightbulb"></i>
                        <span>Pro Risk Management Tips</span>
                    </div>
                    <div class="info-content">
                        <strong>Never risk more than 1-2% per trade.</strong> Use stop loss on every trade. Trailing
                        stops can lock in profits as the trade moves favorably. Never move stop loss against your
                        position. ATR-based stops adapt to market volatility.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Update labels and hints based on stop loss type
        function updateSLTypeLabel() {
            const slType = document.getElementById('slType').value;
            const label = document.getElementById('slValueLabel');
            const hint = document.getElementById('slValueHint');
            const slValue = document.getElementById('slValue');

            if (slType === 'percentage') {
                label.innerHTML = '<i class="fas fa-percentage"></i> Stop Loss Percentage';
                hint.textContent = '2-3% recommended';
                slValue.value = 2;
                slValue.step = 0.1;
            } else if (slType === 'fixed') {
                label.innerHTML = '<i class="fas fa-rupee-sign"></i> Stop Loss Points';
                hint.textContent = 'Fixed points distance';
                slValue.value = 10;
                slValue.step = 0.5;
            } else if (slType === 'atr') {
                label.innerHTML = '<i class="fas fa-chart-line"></i> ATR Multiplier';
                hint.textContent = '1.5-2x ATR common';
                slValue.value = 2;
                slValue.step = 0.1;
            }
        }

        // Toggle trailing stop loss input
        document.getElementById('trailingEnabled').addEventListener('change', function () {
            const trailingGroup = document.getElementById('trailingGroup');
            const trailingRow = document.getElementById('trailingRow');
            if (this.checked) {
                trailingGroup.style.display = 'block';
                trailingRow.style.display = 'grid';
            } else {
                trailingGroup.style.display = 'none';
                trailingRow.style.display = 'none';
            }
        });

        // Main calculation function
        function calculateSL() {
            // Get inputs
            const entry = parseFloat(document.getElementById('entry').value) || 0;
            const slValue = parseFloat(document.getElementById('slValue').value) || 0;
            const slType = document.getElementById('slType').value;
            const position = document.getElementById('positionType').value;
            const quantity = parseFloat(document.getElementById('quantity').value) || 0;
            const trailingEnabled = document.getElementById('trailingEnabled').checked;
            const trailingPercent = parseFloat(document.getElementById('trailingPercent').value) || 0;

            if (entry <= 0 || quantity <= 0) return;

            // Calculate stop loss price
            let slPrice = 0;

            if (slType === 'percentage') {
                slPrice = position === 'long'
                    ? entry * (1 - slValue / 100)
                    : entry * (1 + slValue / 100);
            } else if (slType === 'fixed') {
                slPrice = position === 'long'
                    ? entry - slValue
                    : entry + slValue;
            } else if (slType === 'atr') {
                // For demo, assume ATR of 5 points
                const atr = 5;
                slPrice = position === 'long'
                    ? entry - (atr * slValue)
                    : entry + (atr * slValue);
            }

            // Calculate trailing stop if enabled
            let trailingPrice = 0;
            if (trailingEnabled && trailingPercent > 0) {
                trailingPrice = position === 'long'
                    ? entry * (1 - trailingPercent / 100)
                    : entry * (1 + trailingPercent / 100);
            }

            // Calculate metrics
            const stopDistance = Math.abs(entry - slPrice);
            const stopPercent = (stopDistance / entry) * 100;
            const maxLoss = stopDistance * quantity;
            const investment = entry * quantity;
            const riskPercent = (maxLoss / investment) * 100;
            const riskPerShare = stopDistance;

            // Update main display
            document.getElementById('slPrice').textContent = 'â‚¹' + slPrice.toFixed(2);
            document.getElementById('slDistance').textContent = stopDistance.toFixed(2) + ' points away';
            document.getElementById('slPercentBadge').textContent = (position === 'long' ? '-' : '+') + stopPercent.toFixed(2) + '%';

            // Update stats
            document.getElementById('maxLoss').textContent = 'â‚¹' + maxLoss.toLocaleString('en-IN', { maximumFractionDigits: 0 });
            document.getElementById('investment').textContent = 'â‚¹' + investment.toLocaleString('en-IN', { maximumFractionDigits: 0 });
            document.getElementById('riskPercent').textContent = riskPercent.toFixed(2) + '%';

            // Update visual chart
            document.getElementById('entryDisplay').textContent = entry.toFixed(2);
            document.getElementById('stopDisplay').textContent = slPrice.toFixed(2);
            document.getElementById('stopPercDisplay').textContent = (position === 'long' ? '-' : '+') + stopPercent.toFixed(2) + '%';

            if (trailingEnabled) {
                document.getElementById('trailingDisplay').textContent = trailingPrice.toFixed(2);
                const trailingDist = Math.abs(entry - trailingPrice);
                const trailingPerc = (trailingDist / entry) * 100;
                document.getElementById('trailingPercDisplay').textContent = (position === 'long' ? '-' : '+') + trailingPerc.toFixed(2) + '%';
            }

            // Update analysis
            document.getElementById('riskPerShare').textContent = riskPerShare.toFixed(2);

            let stopAnalysis = '';
            if (stopPercent < 1) {
                stopAnalysis = 'Very tight stop - may get triggered by normal volatility';
            } else if (stopPercent <= 3) {
                stopAnalysis = 'Well placed stop for day trading and swing trading';
            } else if (stopPercent <= 5) {
                stopAnalysis = 'Moderate stop distance - good for volatile stocks';
            } else {
                stopAnalysis = 'Wide stop - suitable for long-term positions';
            }
            document.getElementById('stopDistanceAnalysis').textContent = stopAnalysis;

            // Add dynamic analysis items
            const analysisList = document.getElementById('analysisList');
            let analysisHTML = `
                <li class="analysis-item">
                    <i class="fas fa-circle" style="color: var(--gold);"></i>
                    <div class="analysis-text">
                        <strong>Risk per share:</strong> â‚¹${riskPerShare.toFixed(2)}
                    </div>
                </li>
            `;

            if (riskPercent <= 2) {
                analysisHTML += `
                    <li class="analysis-item">
                        <i class="fas fa-check-circle" style="color: var(--success);"></i>
                        <div class="analysis-text">
                            <strong>Conservative risk:</strong> ${riskPercent.toFixed(2)}% is within recommended limits
                        </div>
                    </li>
                `;
            } else if (riskPercent <= 5) {
                analysisHTML += `
                    <li class="analysis-item">
                        <i class="fas fa-exclamation-circle" style="color: var(--warning);"></i>
                        <div class="analysis-text">
                            <strong>Moderate risk:</strong> ${riskPercent.toFixed(2)}% is acceptable but consider reducing position size
                        </div>
                    </li>
                `;
            } else {
                analysisHTML += `
                    <li class="analysis-item">
                        <i class="fas fa-exclamation-triangle" style="color: var(--danger);"></i>
                        <div class="analysis-text">
                            <strong>High risk:</strong> ${riskPercent.toFixed(2)}% exceeds safe limits. Reduce position size!
                        </div>
                    </li>
                `;
            }

            analysisHTML += `
                <li class="analysis-item">
                    <i class="fas fa-circle" style="color: var(--gold);"></i>
                    <div class="analysis-text">
                        <strong>Stop distance:</strong> ${stopAnalysis}
                    </div>
                </li>
            `;

            if (trailingEnabled) {
                analysisHTML += `
                    <li class="analysis-item">
                        <i class="fas fa-chart-line" style="color: var(--warning);"></i>
                        <div class="analysis-text">
                            <strong>Trailing stop enabled:</strong> Will automatically move ${trailingPercent.toFixed(2)}% behind peak price to lock in profits
                        </div>
                    </li>
                `;
            }

            analysisList.innerHTML = analysisHTML;
        }

        // Calculate on page load
        document.addEventListener('DOMContentLoaded', function () {
            calculateSL();
        });
    </script>

    <script src="common-footer.js" defer></script>
</body>

</html>