<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N0Y2LBMRSW"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-N0Y2LBMRSW');</script>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FREE Margin of Safety Calculator 2026 - Value Investing Tool Graham | BroBillionaire</title>
    <meta name="description" content="Calculate margin of safety for stocks! FREE Benjamin Graham value investing calculator with intrinsic value & buy price analysis. Smart investing 2026!">
    <meta name="keywords" content="margin of safety calculator, intrinsic value calculator, Benjamin Graham calculator, value investing calculator India, stock valuation calculator, Graham number calculator, undervalued stocks">
    <link rel="canonical" href="https://brobillionaire.com/tool-margin-of-safety-calculator.html">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .calculator-container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .calculator-card { background: #1a1a1a; border-radius: 16px; padding: 40px; margin-bottom: 30px; border: 1px solid #2a2a2a; }
        .calculator-title { font-family: 'Playfair Display', serif; font-size: 2.8rem; color: #C9A227; margin-bottom: 10px; }
        .calculator-subtitle { color: #999; font-size: 1.1rem; margin-bottom: 40px; line-height: 1.6; }
        .input-group { margin-bottom: 25px; }
        .input-label { display: block; color: #C9A227; font-weight: 600; margin-bottom: 10px; font-size: 1rem; }
        .input-field { width: 100%; padding: 15px; background: #0a0a0a; border: 2px solid #2a2a2a; border-radius: 8px; color: #fff; font-size: 1rem; transition: border-color 0.3s; }
        .input-field:focus { border-color: #C9A227; outline: none; }
        .input-hint { color: #666; font-size: 0.85rem; margin-top: 5px; }
        .calculate-btn { background: linear-gradient(135deg, #C9A227 0%, #8B7520 100%); color: #000; font-weight: 700; padding: 18px; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; width: 100%; margin-top: 20px; transition: transform 0.2s; }
        .calculate-btn:hover { transform: translateY(-2px); }
        .results-section { display: none; margin-top: 40px; }
        .verdict-card { padding: 50px; border-radius: 16px; text-align: center; margin-bottom: 30px; }
        .verdict-buy { background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); }
        .verdict-hold { background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); }
        .verdict-sell { background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); }
        .verdict-text { color: #fff; font-size: 3rem; font-weight: 700; margin-bottom: 20px; font-family: 'Playfair Display', serif; }
        .verdict-description { color: #fff; font-size: 1.3rem; line-height: 1.6; }
        .result-card { background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); padding: 30px; border-radius: 12px; text-align: center; border-left: 5px solid #C9A227; margin-bottom: 30px; }
        .result-value { color: #C9A227; font-size: 4rem; font-weight: 700; margin: 20px 0; font-family: 'Playfair Display', serif; }
        .result-label { color: #999; font-size: 1.2rem; margin-bottom: 10px; }
        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 30px; }
        .metric-card { background: #0a0a0a; padding: 25px; border-radius: 12px; border: 1px solid #2a2a2a; text-align: center; }
        .metric-label { color: #C9A227; font-weight: 600; margin-bottom: 12px; font-size: 0.95rem; text-transform: uppercase; letter-spacing: 1px; }
        .metric-value { color: #fff; font-size: 2rem; font-weight: 700; }
        .price-levels { margin: 40px 0; }
        .price-level { background: #0a0a0a; padding: 20px 30px; border-radius: 12px; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; border-left: 4px solid; }
        .level-excellent { border-left-color: #2ecc71; }
        .level-good { border-left-color: #3498db; }
        .level-fair { border-left-color: #f39c12; }
        .level-current { border-left-color: #e74c3c; background: rgba(231, 76, 60, 0.05); }
        .level-name { color: #C9A227; font-weight: 600; font-size: 1.1rem; }
        .level-price { color: #fff; font-size: 1.5rem; font-weight: 700; }
        .info-box { background: rgba(201, 162, 39, 0.1); border: 2px solid #C9A227; padding: 25px; border-radius: 12px; margin-top: 30px; }
        .info-box h3 { color: #C9A227; margin-bottom: 15px; }
        .info-box ul { margin: 10px 0 0 20px; color: #999; line-height: 1.8; }
        .chart-container { background: #0a0a0a; padding: 30px; border-radius: 12px; margin-top: 30px; border: 1px solid #2a2a2a; }
        .chart-title { color: #C9A227; font-size: 1.5rem; margin-bottom: 20px; text-align: center; font-weight: 600; }
        .valuation-methods { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 30px; }
        .method-card { background: #0a0a0a; border: 2px solid #2a2a2a; padding: 25px; border-radius: 12px; }
        .method-title { color: #C9A227; font-size: 1.2rem; font-weight: 600; margin-bottom: 15px; }
        .method-value { color: #fff; font-size: 2rem; font-weight: 700; margin: 10px 0; }
        .method-description { color: #999; font-size: 0.9rem; line-height: 1.6; }
        .section-title { color: #C9A227; font-size: 1.3rem; margin: 30px 0 20px 0; font-weight: 600; }
        .faq-section { max-width: 1200px; margin: 50px auto; padding: 40px 20px; }
        .faq-title { font-family: 'Playfair Display', serif; font-size: 2.5rem; color: #C9A227; margin-bottom: 40px; text-align: center; }
        .faq-item { background: #1a1a1a; border-radius: 12px; margin-bottom: 15px; border: 1px solid #2a2a2a; overflow: hidden; }
        .faq-question { padding: 25px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; color: #fff; font-weight: 600; font-size: 1.1rem; }
        .faq-question:hover { background: #222; }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; background: #0a0a0a; }
        .faq-answer.active { max-height: 1000px; }
        .faq-answer p { padding: 25px; margin: 0; color: #999; line-height: 1.8; }
        @media (max-width: 768px) {
            .calculator-title { font-size: 2rem; }
            .result-value { font-size: 3rem; }
            .verdict-text { font-size: 2rem; }
            .grid-2 { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <img src="logo.jpg" alt="BroBillionaire" class="logo-img">
                <span class="logo-text">BroBillionaire</span>
            </div>
            <div class="nav-links">
                <a href="articles.html" class="nav-link">All Articles</a>
                <a href="tools.html" class="nav-link">Tools</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </div>
            <button class="cta-btn gold-btn">Read Free</button>
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>
    <div class="mobile-nav-dropdown" id="mobileNavDropdown">
        <a href="index.html">Home</a>
        <a href="articles.html">Articles</a>
        <a href="tools.html">Calculators</a>
        <a href="viral-tools-hub.html">Viral Tools</a>
        <a href="community.html">Community</a>
        <a href="about.html">About</a>
    </div>

    <!-- Breadcrumb -->
    <div class="breadcrumb-container">
        <div class="breadcrumb">
            <a href="index.html">Home</a>
            <span class="separator">‚Ä∫</span>
            <a href="tools.html">Tools</a>
            <span class="separator">‚Ä∫</span>
            <span class="current">Margin of Safety Calculator</span>
        </div>
    </div>

    <div class="calculator-container">
        <div class="calculator-card">
            <h1 class="calculator-title"><i class="fas fa-shield-alt"></i> Margin of Safety Calculator</h1>
            <p class="calculator-subtitle">Calculate intrinsic value, margin of safety, and fair buy price using Benjamin Graham's value investing principles. Determine if a stock is undervalued, fairly valued, or overvalued based on fundamentals.</p>
            
            <div style="background: rgba(52, 152, 219, 0.1); border: 2px solid #3498db; padding: 20px; border-radius: 12px; margin-bottom: 30px;">
                <h3 style="color: #3498db; margin-bottom: 10px;"><i class="fas fa-info-circle"></i> Benjamin Graham's Golden Rule:</h3>
                <p style="color: #999; line-height: 1.6; margin: 0;">"The margin of safety is always dependent on the price paid. It will be large at one price, small at some higher price, nonexistent at some still higher price." - Buy quality stocks at significant discount to intrinsic value.</p>
            </div>
            
            <h3 class="section-title">Stock Information</h3>
            <div class="grid-2">
                <div class="input-group">
                    <label class="input-label">Stock Name (Optional)</label>
                    <input type="text" id="stockName" class="input-field" placeholder="e.g., Reliance Industries">
                    <div class="input-hint">For reference in results</div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Current Market Price (‚Çπ)</label>
                    <input type="number" id="currentPrice" class="input-field" placeholder="2500" step="0.5">
                    <div class="input-hint">Current trading price per share</div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Earnings Per Share - EPS (‚Çπ)</label>
                    <input type="number" id="eps" class="input-field" placeholder="150" step="0.1">
                    <div class="input-hint">TTM or latest annual EPS</div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Book Value Per Share (‚Çπ)</label>
                    <input type="number" id="bookValue" class="input-field" placeholder="1200" step="1">
                    <div class="input-hint">Net worth per share</div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Expected Growth Rate (%)</label>
                    <input type="number" id="growthRate" class="input-field" placeholder="12" step="0.5" value="10">
                    <div class="input-hint">Expected annual EPS growth</div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Minimum Required Return (%)</label>
                    <input type="number" id="requiredReturn" class="input-field" placeholder="15" step="0.5" value="15">
                    <div class="input-hint">Your discount rate (opportunity cost)</div>
                </div>
            </div>
            
            <h3 class="section-title">Financial Quality Factors (Optional)</h3>
            <div class="grid-2">
                <div class="input-group">
                    <label class="input-label">Return on Equity - ROE (%)</label>
                    <input type="number" id="roe" class="input-field" placeholder="18" step="0.5">
                    <div class="input-hint">Net profit / shareholder equity</div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Debt to Equity Ratio</label>
                    <input type="number" id="debtEquity" class="input-field" placeholder="0.5" step="0.1">
                    <div class="input-hint">Total debt / total equity</div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Current Ratio</label>
                    <input type="number" id="currentRatio" class="input-field" placeholder="1.5" step="0.1">
                    <div class="input-hint">Current assets / current liabilities</div>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Dividend Yield (%)</label>
                    <input type="number" id="dividendYield" class="input-field" placeholder="2" step="0.1" value="0">
                    <div class="input-hint">Annual dividend / current price √ó 100</div>
                </div>
            </div>
            
            <button class="calculate-btn" onclick="calculateMarginOfSafety()">
                <i class="fas fa-calculator"></i> Calculate Intrinsic Value & Margin of Safety
            </button>
        </div>
        
        <div class="results-section" id="resultsSection">
            <div class="calculator-card">
                <h2 style="color: #C9A227; margin-bottom: 30px; font-family: 'Playfair Display', serif; font-size: 2rem; text-align: center;">Investment Analysis Report</h2>
                
                <div class="verdict-card" id="verdictCard">
                    <div class="verdict-text" id="verdictText">üéØ STRONG BUY</div>
                    <div class="verdict-description" id="verdictDescription">Stock trading at significant discount to intrinsic value with excellent margin of safety</div>
                </div>
                
                <div class="grid-2">
                    <div class="result-card">
                        <div class="result-label">Intrinsic Value</div>
                        <div class="result-value" id="intrinsicValue">‚Çπ0</div>
                        <div style="color: #999; margin-top: 10px;">Fair value based on fundamentals</div>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-label">Margin of Safety</div>
                        <div class="result-value" id="marginOfSafety">0%</div>
                        <div style="color: #999; margin-top: 10px;">Discount to intrinsic value</div>
                    </div>
                </div>
                
                <div class="price-levels">
                    <h3 style="color: #C9A227; margin-bottom: 20px; text-align: center;">Buy Price Levels & Recommendations</h3>
                    
                    <div class="price-level level-excellent">
                        <div>
                            <div class="level-name">üü¢ Excellent Buy Zone (40% MOS)</div>
                            <div style="color: #999; font-size: 0.9rem; margin-top: 5px;">Strong value opportunity - aggressive buying</div>
                        </div>
                        <div class="level-price" id="excellentBuy">‚Çπ0</div>
                    </div>
                    
                    <div class="price-level level-good">
                        <div>
                            <div class="level-name">üîµ Good Buy Zone (25% MOS)</div>
                            <div style="color: #999; font-size: 0.9rem; margin-top: 5px;">Attractive value - start accumulating</div>
                        </div>
                        <div class="level-price" id="goodBuy">‚Çπ0</div>
                    </div>
                    
                    <div class="price-level level-fair">
                        <div>
                            <div class="level-name">üü° Fair Value Zone (0% MOS)</div>
                            <div style="color: #999; font-size: 0.9rem; margin-top: 5px;">Fairly valued - wait for better entry</div>
                        </div>
                        <div class="level-price" id="fairValue">‚Çπ0</div>
                    </div>
                    
                    <div class="price-level level-current">
                        <div>
                            <div class="level-name">üìç Current Market Price</div>
                            <div style="color: #999; font-size: 0.9rem; margin-top: 5px;">Where stock is trading now</div>
                        </div>
                        <div class="level-price" id="currentPriceDisplay">‚Çπ0</div>
                    </div>
                </div>
                
                <h3 style="color: #C9A227; margin: 40px 0 20px 0; text-align: center;">Multiple Valuation Methods</h3>
                
                <div class="valuation-methods">
                    <div class="method-card">
                        <div class="method-title">Graham Number</div>
                        <div class="method-value" id="grahamNumber">‚Çπ0</div>
                        <div class="method-description">Benjamin Graham's formula: ‚àö(22.5 √ó EPS √ó Book Value). Conservative valuation for stable companies with earnings and book value.</div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-title">DCF Intrinsic Value</div>
                        <div class="method-value" id="dcfValue">‚Çπ0</div>
                        <div class="method-description">Discounted Cash Flow based on growth rate and required return. Present value of future earnings potential.</div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-title">PE-Based Fair Value</div>
                        <div class="method-value" id="peValue">‚Çπ0</div>
                        <div class="method-description">Based on industry-average PE ratio adjusted for growth. Current EPS √ó Fair PE multiple.</div>
                    </div>
                </div>
                
                <div class="grid-2">
                    <div class="metric-card">
                        <div class="metric-label">Current PE Ratio</div>
                        <div class="metric-value" id="currentPE">-</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-label">Price to Book (PB)</div>
                        <div class="metric-value" id="priceToBook">-</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-label">Upside Potential</div>
                        <div class="metric-value" id="upsidePotential">-</div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-label">Quality Score</div>
                        <div class="metric-value" id="qualityScore">-</div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">Valuation Methods Comparison</div>
                    <canvas id="valuationChart"></canvas>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">Price vs Intrinsic Value Range</div>
                    <canvas id="rangeChart"></canvas>
                </div>
                
                <div class="info-box">
                    <h3><i class="fas fa-lightbulb"></i> Investment Insights & Recommendations:</h3>
                    <ul id="investmentInsights">
                        <li>Loading analysis...</li>
                    </ul>
                </div>
                
                <div style="background: rgba(46, 204, 113, 0.1); border: 2px solid #2ecc71; padding: 25px; border-radius: 12px; margin-top: 30px;">
                    <h3 style="color: #2ecc71; margin-bottom: 15px;"><i class="fas fa-graduation-cap"></i> Benjamin Graham's Value Investing Principles:</h3>
                    <p style="color: #999; line-height: 1.8; margin: 0;">
                        <strong>1) Margin of Safety:</strong> Buy at significant discount (25-40%) to intrinsic value as protection against errors and bad luck. 
                        <strong>2) Mr. Market:</strong> Market price fluctuates due to emotions - exploit this by buying undervalued stocks when others panic. 
                        <strong>3) Investment vs Speculation:</strong> Investor analyzes fundamentals and buys with margin of safety. Speculator predicts price movements. 
                        <strong>4) Quality criteria:</strong> Adequate size, strong financial condition (2:1 current ratio, low debt), earnings stability (positive for 10 years), 
                        dividend record, earnings growth, moderate PE (<15), moderate PB (<1.5). <strong>5) Circle of competence:</strong> Only invest in businesses you understand. 
                        <strong>Warren Buffett on Graham:</strong> "Ben's Mr. Market allegory may seem out-of-date in today's investment world. Nevertheless, I embrace its 
                        message unreservedly." Use this calculator to implement Graham's timeless principles in Indian stock market!
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="faq-section">
        <h2 class="faq-title">Frequently Asked Questions</h2>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                What is margin of safety and why is it important?
                <i class="fas fa-chevron-down" style="color: #C9A227;"></i>
            </div>
            <div class="faq-answer">
                <p>Margin of Safety is the difference between a stock's intrinsic value and its market price, expressed as a percentage. <strong>Formula: MOS = [(Intrinsic Value - Current Price) / Intrinsic Value] √ó 100.</strong> <strong>Example:</strong> If intrinsic value = ‚Çπ2000 and current price = ‚Çπ1500, MOS = [(2000-1500)/2000] √ó 100 = 25%. <strong>Why critical:</strong> 1) <strong>Protection against errors:</strong> Your valuation could be wrong - MOS provides buffer, 2) <strong>Downside protection:</strong> If business deteriorates, you have cushion, 3) <strong>Upside potential:</strong> As price converges to intrinsic value, you profit. <strong>Benjamin Graham recommended:</strong> Minimum 25% MOS for common stocks, 33% for aggressive investors, 50% for speculative stocks. <strong>Warren Buffett's approach:</strong> Rare combination of wonderful business + large MOS. <strong>Indian context:</strong> Volatile markets make MOS even more important. Buy only when 30-40% discount available.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                How to calculate intrinsic value of a stock?
                <i class="fas fa-chevron-down" style="color: #C9A227;"></i>
            </div>
            <div class="faq-answer">
                <p><strong>3 main methods:</strong> <strong>1) Graham Number:</strong> ‚àö(22.5 √ó EPS √ó Book Value). Example: EPS=‚Çπ150, BV=‚Çπ1200 ‚Üí ‚àö(22.5√ó150√ó1200) = ‚àö4,050,000 = ‚Çπ2012. Conservative, works for stable companies. <strong>2) DCF (Discounted Cash Flow):</strong> Present value of future earnings. Simplified: Intrinsic Value = EPS √ó (8.5 + 2√óGrowth Rate) √ó 4.4/Bond Yield. Example: EPS=‚Çπ150, Growth=12%, Bond yield=7.5% ‚Üí 150√ó(8.5+24)√ó4.4/7.5 = ‚Çπ2873. <strong>3) PE-based:</strong> Fair PE √ó EPS. Fair PE = Growth rate √ó 2 (rule of thumb). Example: 12% growth ‚Üí PE=24, Fair Value = 24√ó150 = ‚Çπ3600. <strong>Best approach:</strong> Calculate all 3, take average or use conservative (lowest) value. <strong>Indian stocks:</strong> Use screener.in or tijori.com for financial data. Adjust growth rates conservatively - use 5-year average, not 1-year spike. <strong>Limitations:</strong> Intrinsic value is estimate, not exact number. MOS accounts for this uncertainty.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                What is Graham Number and how to use it for stock selection?
                <i class="fas fa-chevron-down" style="color: #C9A227;"></i>
            </div>
            <div class="faq-answer">
                <p><strong>Graham Number formula:</strong> ‚àö(22.5 √ó EPS √ó Book Value). Represents maximum price value investor should pay. <strong>Origin:</strong> Benjamin Graham's criteria - PE ‚â§ 15 and PB ‚â§ 1.5. Combined: Price ‚â§ ‚àö(15 √ó 1.5 √ó EPS √ó BV) = ‚àö(22.5 √ó EPS √ó BV). <strong>Usage rules:</strong> 1) <strong>Strong Buy:</strong> Current price < 0.67 √ó Graham Number (33% discount), 2) <strong>Buy:</strong> Price < 0.80 √ó Graham Number (20% discount), 3) <strong>Hold/Avoid:</strong> Price > Graham Number (no MOS). <strong>Example - Reliance Industries:</strong> EPS=‚Çπ150, BV=‚Çπ1200 ‚Üí Graham Number = ‚Çπ2012. Current price ‚Çπ2500 ‚Üí Overvalued by 24%. Wait for ‚Çπ1350 (33% discount) for strong buy. <strong>Limitations:</strong> Works best for stable, mature companies with consistent earnings. Not suitable for: growth stocks (Amazon, Tesla type), loss-making companies, cyclical businesses, asset-light companies. <strong>Indian application:</strong> Screen for Graham Number < Current Price in banking, FMCG, pharma sectors.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                Best margin of safety to buy stocks in India?
                <i class="fas fa-chevron-down" style="color: #C9A227;"></i>
            </div>
            <div class="faq-answer">
                <p><strong>Recommended MOS by stock category:</strong> <strong>1) Blue-chip stocks (TCS, HDFC, Reliance):</strong> 25-30% MOS minimum. High quality but expensive - wait for market crashes or company-specific issues for entry. <strong>2) Mid-cap quality stocks:</strong> 30-40% MOS required. Higher volatility needs bigger buffer. <strong>3) Small-cap/speculative:</strong> 50%+ MOS essential. Risk of permanent capital loss high. <strong>4) Cyclical stocks (metals, auto, real estate):</strong> 40-50% MOS. Buy at cycle bottom when MOS is large. <strong>Indian market context:</strong> Higher volatility than US - larger MOS needed. Wait patiently - market gives 30-40% discounts during: Budget reactions, global crashes, sector-specific issues, company scandals (even if stock is good). <strong>Example:</strong> TCS intrinsic value ‚Çπ4000, buy only below ‚Çπ3000 (25% MOS). During COVID crash 2020, fell to ‚Çπ1800 (55% MOS) - that's when fortunes were made. <strong>Rule:</strong> Higher required MOS = fewer opportunities but better returns. Quality + large MOS = wealth compounding.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                How to find undervalued stocks in Indian market using margin of safety?
                <i class="fas fa-chevron-down" style="color: #C9A227;"></i>
            </div>
            <div class="faq-answer">
                <p><strong>Step-by-step stock screening process:</strong> <strong>1) Quality filter (screener.in):</strong> ROE >15%, Debt/Equity <0.5, Positive cash flow, 10-year earnings growth, Market cap >‚Çπ1000 Cr. <strong>2) Calculate intrinsic value:</strong> Use Graham Number or DCF for each stock in filtered list. <strong>3) Find MOS:</strong> Compare intrinsic value vs current price. Sort by highest MOS. <strong>4) Fundamental checks:</strong> Read annual reports, understand business, check management quality, verify growth sustainability. <strong>5) Wait for right price:</strong> Create watchlist with buy prices (30% MOS). Set price alerts. Buy when market gives opportunity. <strong>Tools for Indian stocks:</strong> Screener.in (free fundamental data), Tijori Finance (valuation models), Tickertape (screening + tracking), MoneyControl (news + financials). <strong>Sectors to focus:</strong> FMCG (stable earnings), Banking (high ROE), Pharma (export growth), IT (dollar earnings). <strong>Pro tip:</strong> Market crashes are gift for value investors - 2020 COVID, 2008 global crisis gave 40-60% MOS on quality stocks. Keep cash ready!</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                Difference between value investing and growth investing strategies?
                <i class="fas fa-chevron-down" style="color: #C9A227;"></i>
            </div>
            <div class="faq-answer">
                <p><strong>Value Investing (Benjamin Graham, Warren Buffett):</strong> Buy undervalued stocks at significant discount to intrinsic value. Focus: Strong fundamentals + low valuation + margin of safety. Metrics: Low PE (<15), Low PB (<1.5), High dividend yield, Strong balance sheet. Examples India: ITC, Asian Paints at reasonable prices, PSU banks post-cleanup. Returns: Moderate but consistent (15-18% CAGR), lower risk. <strong>Growth Investing (Philip Fisher, Peter Lynch):</strong> Buy high-growth companies regardless of current valuation. Focus: Revenue/earnings growth + market leadership + competitive advantage. Metrics: High PE (30-100), High PB, Low/no dividend, Strong revenue growth (>25%). Examples India: Titan during growth phase, Bajaj Finance, IT stocks 2000-2020. Returns: High potential (25-40% CAGR) but volatile, higher risk. <strong>Hybrid approach (Charlie Munger style):</strong> Wonderful business at fair price > mediocre business at cheap price. Example: Buying HDFC Bank at 3-4x book value because of quality. <strong>Recommendation:</strong> Beginners: Value investing (lower risk). Experienced: Blend both. Retire/conservative: Pure value. Young/aggressive: More growth allocation.</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-top">
                <div class="footer-brand">
                    <div class="logo">
                        <img src="logo.jpg" alt="BroBillionaire" class="logo-img">
                        <span class="logo-text">BroBillionaire</span>
                    </div>
                    <p>Free trading education for everyone. Master the markets with proven strategies.</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h4>Explore</h4>
                        <a href="articles.html">All Articles</a>
                        <a href="tools.html">Trading Tools</a>
                        <a href="about.html">About Us</a>
                        <a href="contact.html">Contact</a>
                    </div>
                    <div class="footer-column">
                        <h4>Popular Topics</h4>
                        <a href="article-george-soros.html">George Soros</a>
                        <a href="article-trading-psychology.html">Trading Psychology</a>
                        <a href="article-risk-management.html">Risk Management</a>
                        <a href="article-option-greeks.html">Option Greeks</a>
                    </div>
                    <div class="footer-column">
                        <h4>Legal</h4>
                        <a href="disclaimer.html">Disclaimer</a>
                        <a href="privacy.html">Privacy Policy</a>
                        <a href="press.html">Press & Media</a>
                        <a href="embed-widgets.html">Free Widgets</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 BroBillionaire. All rights reserved. Free trading education.</p>
                <div class="social-links">
                    <a href="https://www.youtube.com/@RealBroBillionaire" target="_blank"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        let valuationChart, rangeChart;

        function calculateMarginOfSafety() {
            const stockName = document.getElementById('stockName').value || 'Stock';
            const currentPrice = parseFloat(document.getElementById('currentPrice').value);
            const eps = parseFloat(document.getElementById('eps').value);
            const bookValue = parseFloat(document.getElementById('bookValue').value);
            const growthRate = parseFloat(document.getElementById('growthRate').value) || 10;
            const requiredReturn = parseFloat(document.getElementById('requiredReturn').value) || 15;
            const roe = parseFloat(document.getElementById('roe').value) || 0;
            const debtEquity = parseFloat(document.getElementById('debtEquity').value) || 0;
            const currentRatio = parseFloat(document.getElementById('currentRatio').value) || 0;
            const dividendYield = parseFloat(document.getElementById('dividendYield').value) || 0;
            
            if (isNaN(currentPrice) || isNaN(eps) || isNaN(bookValue)) {
                alert('Please fill in required fields: Current Price, EPS, and Book Value');
                return;
            }
            
            if (currentPrice <= 0 || eps <= 0 || bookValue <= 0) {
                alert('Values must be positive numbers');
                return;
            }
            
            // Calculate Graham Number
            const grahamNumber = Math.sqrt(22.5 * eps * bookValue);
            
            // Calculate DCF-based intrinsic value (simplified)
            const bondYield = 7.5; // Assume current 10-year G-Sec yield
            const dcfValue = eps * (8.5 + 2 * growthRate) * (4.4 / bondYield);
            
            // Calculate PE-based fair value
            const fairPE = Math.min(25, growthRate * 1.8); // Growth rate √ó factor, capped at 25
            const peValue = eps * fairPE;
            
            // Average intrinsic value (weighted: Graham 30%, DCF 40%, PE 30%)
            const intrinsicValue = (grahamNumber * 0.3) + (dcfValue * 0.4) + (peValue * 0.3);
            
            // Margin of Safety
            const marginOfSafety = ((intrinsicValue - currentPrice) / intrinsicValue) * 100;
            
            // Buy price levels
            const excellentBuy = intrinsicValue * 0.6; // 40% MOS
            const goodBuy = intrinsicValue * 0.75; // 25% MOS
            const fairValue = intrinsicValue;
            
            // Calculate ratios
            const currentPE = currentPrice / eps;
            const priceToBook = currentPrice / bookValue;
            const upsidePotential = ((intrinsicValue - currentPrice) / currentPrice) * 100;
            
            // Quality score (0-100)
            let qualityScore = 50;
            if (roe > 0) {
                if (roe >= 20) qualityScore += 15;
                else if (roe >= 15) qualityScore += 10;
                else if (roe < 10) qualityScore -= 10;
            }
            if (debtEquity > 0) {
                if (debtEquity < 0.3) qualityScore += 10;
                else if (debtEquity > 1) qualityScore -= 15;
            }
            if (currentRatio > 0) {
                if (currentRatio >= 2) qualityScore += 10;
                else if (currentRatio < 1) qualityScore -= 15;
            }
            if (dividendYield >= 2) qualityScore += 10;
            qualityScore = Math.max(0, Math.min(100, qualityScore));
            
            // Display results
            document.getElementById('intrinsicValue').textContent = '‚Çπ' + intrinsicValue.toFixed(2);
            document.getElementById('marginOfSafety').textContent = marginOfSafety.toFixed(1) + '%';
            document.getElementById('grahamNumber').textContent = '‚Çπ' + grahamNumber.toFixed(2);
            document.getElementById('dcfValue').textContent = '‚Çπ' + dcfValue.toFixed(2);
            document.getElementById('peValue').textContent = '‚Çπ' + peValue.toFixed(2);
            document.getElementById('currentPE').textContent = currentPE.toFixed(2) + 'x';
            document.getElementById('priceToBook').textContent = priceToBook.toFixed(2) + 'x';
            document.getElementById('upsidePotential').textContent = (upsidePotential >= 0 ? '+' : '') + upsidePotential.toFixed(1) + '%';
            document.getElementById('qualityScore').textContent = qualityScore + '/100';
            
            document.getElementById('excellentBuy').textContent = '‚Çπ' + excellentBuy.toFixed(2);
            document.getElementById('goodBuy').textContent = '‚Çπ' + goodBuy.toFixed(2);
            document.getElementById('fairValue').textContent = '‚Çπ' + fairValue.toFixed(2);
            document.getElementById('currentPriceDisplay').textContent = '‚Çπ' + currentPrice.toFixed(2);
            
            // Verdict
            const verdictCard = document.getElementById('verdictCard');
            verdictCard.className = 'verdict-card';
            
            let verdictText, verdictDescription, verdictClass;
            
            if (marginOfSafety >= 40) {
                verdictText = 'üéØ STRONG BUY';
                verdictDescription = `${stockName} is trading at exceptional ${marginOfSafety.toFixed(0)}% discount to intrinsic value. Rare opportunity for value investors!`;
                verdictClass = 'verdict-buy';
            } else if (marginOfSafety >= 25) {
                verdictText = '‚úÖ BUY';
                verdictDescription = `${stockName} offers attractive ${marginOfSafety.toFixed(0)}% margin of safety. Good entry point for long-term investors.`;
                verdictClass = 'verdict-buy';
            } else if (marginOfSafety >= 10) {
                verdictText = 'üü° HOLD / WAIT';
                verdictDescription = `${stockName} has modest ${marginOfSafety.toFixed(0)}% margin of safety. Wait for better entry point or buy small position.`;
                verdictClass = 'verdict-hold';
            } else if (marginOfSafety >= 0) {
                verdictText = '‚ö†Ô∏è FAIRLY VALUED';
                verdictDescription = `${stockName} is trading near fair value with ${marginOfSafety.toFixed(0)}% margin. No safety cushion - avoid or wait.`;
                verdictClass = 'verdict-hold';
            } else {
                verdictText = 'üî¥ OVERVALUED';
                verdictDescription = `${stockName} is overvalued by ${Math.abs(marginOfSafety).toFixed(0)}%. Trading above intrinsic value - high risk, avoid purchase.`;
                verdictClass = 'verdict-sell';
            }
            
            verdictCard.classList.add(verdictClass);
            document.getElementById('verdictText').textContent = verdictText;
            document.getElementById('verdictDescription').textContent = verdictDescription;
            
            // Generate insights
            const insights = [];
            
            if (marginOfSafety >= 30) {
                insights.push(`<strong>Excellent value opportunity!</strong> ${marginOfSafety.toFixed(0)}% margin of safety provides substantial downside protection. Consider aggressive buying if fundamentals are strong.`);
            } else if (marginOfSafety < 0) {
                insights.push(`<strong>Overvalued warning:</strong> Stock trading ${Math.abs(marginOfSafety).toFixed(0)}% above intrinsic value. Avoid purchase - wait for correction or look for better opportunities.`);
            }
            
            if (currentPE < 15 && priceToBook < 1.5) {
                insights.push(`<strong>Graham criteria met:</strong> PE=${currentPE.toFixed(1)} (<15) and PB=${priceToBook.toFixed(2)} (<1.5). Stock passes Benjamin Graham's fundamental valuation tests.`);
            } else if (currentPE > 25 || priceToBook > 3) {
                insights.push(`<strong>Expensive valuations:</strong> PE=${currentPE.toFixed(1)} and/or PB=${priceToBook.toFixed(2)} indicate premium pricing. Justify with strong growth or avoid.`);
            }
            
            if (grahamNumber > currentPrice * 1.2) {
                insights.push(`<strong>Graham Number signal:</strong> Fair value ‚Çπ${grahamNumber.toFixed(2)} vs current ‚Çπ${currentPrice.toFixed(2)} suggests ${((grahamNumber/currentPrice - 1)*100).toFixed(0)}% upside. Classic value investing setup.`);
            }
            
            if (qualityScore >= 70) {
                insights.push(`<strong>High quality business (${qualityScore}/100):</strong> Strong financials with good ROE, low debt, and healthy liquidity. Quality + MOS = ideal combination.`);
            } else if (qualityScore < 40) {
                insights.push(`<strong>Quality concerns (${qualityScore}/100):</strong> Weak financials - high debt, low ROE, or poor liquidity. Even with MOS, fundamental risks exist. Investigate deeper.`);
            }
            
            if (upsidePotential > 50) {
                insights.push(`<strong>Massive upside potential of ${upsidePotential.toFixed(0)}%</strong> if price converges to intrinsic value. Multi-year wealth creation opportunity if thesis is correct.`);
            }
            
            if (dividendYield > 3) {
                insights.push(`<strong>Bonus income:</strong> ${dividendYield.toFixed(1)}% dividend yield provides regular cash flow while waiting for price appreciation. Total return = capital gains + dividends.`);
            }
            
            if (roe > 20 && debtEquity < 0.5) {
                insights.push(`<strong>Compounding machine:</strong> High ROE (${roe.toFixed(1)}%) with low debt (D/E=${debtEquity.toFixed(2)}) indicates sustainable value creation. Hold for long-term.`);
            }
            
            insights.push(`<strong>Buy price targets:</strong> Excellent entry below ‚Çπ${excellentBuy.toFixed(2)} (40% MOS), Good entry below ‚Çπ${goodBuy.toFixed(2)} (25% MOS). Set price alerts and wait patiently.`);
            
            if (marginOfSafety < 20 && currentPE > 20) {
                insights.push(`<strong>Risk-reward unfavorable:</strong> Limited MOS + high PE = poor entry point. Even small business setback could cause losses. Wait or pass.`);
            }
            
            const conservativeValue = Math.min(grahamNumber, dcfValue, peValue);
            insights.push(`<strong>Conservative valuation:</strong> Using lowest estimate (‚Çπ${conservativeValue.toFixed(2)}), MOS = ${(((conservativeValue - currentPrice)/conservativeValue)*100).toFixed(0)}%. Ultra-conservative investors use this approach.`);
            
            document.getElementById('investmentInsights').innerHTML = insights.map(i => `<li>${i}</li>`).join('');
            
            // Create charts
            createValuationChart(grahamNumber, dcfValue, peValue, currentPrice, intrinsicValue);
            createRangeChart(excellentBuy, goodBuy, intrinsicValue, currentPrice);
            
            document.getElementById('resultsSection').style.display = 'block';
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function createValuationChart(graham, dcf, pe, current, intrinsic) {
            const ctx = document.getElementById('valuationChart').getContext('2d');
            
            if (valuationChart) valuationChart.destroy();
            
            valuationChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Graham Number', 'DCF Value', 'PE-Based Value', 'Average Intrinsic', 'Current Price'],
                    datasets: [{
                        label: 'Price (‚Çπ)',
                        data: [graham, dcf, pe, intrinsic, current],
                        backgroundColor: [
                            'rgba(155, 89, 182, 0.7)',
                            'rgba(52, 152, 219, 0.7)',
                            'rgba(46, 204, 113, 0.7)',
                            'rgba(201, 162, 39, 0.8)',
                            'rgba(231, 76, 60, 0.8)'
                        ],
                        borderColor: ['#9b59b6', '#3498db', '#2ecc71', '#C9A227', '#e74c3c'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ‚Çπ' + context.parsed.y.toFixed(2);
                                }
                            }
                        }
                    },
                    scales: {
                        x: { ticks: { color: '#999', font: { size: 11 } }, grid: { color: '#2a2a2a' } },
                        y: { 
                            ticks: { 
                                color: '#999',
                                callback: function(value) { return '‚Çπ' + value; }
                            }, 
                            grid: { color: '#2a2a2a' },
                            beginAtZero: true
                        }
                    }
                }
            });
        }
        
        function createRangeChart(excellent, good, fair, current) {
            const ctx = document.getElementById('rangeChart').getContext('2d');
            
            if (rangeChart) rangeChart.destroy();
            
            rangeChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Excellent Buy (40% MOS)', 'Good Buy (25% MOS)', 'Fair Value', 'Current Price'],
                    datasets: [{
                        label: 'Price Level',
                        data: [excellent, good, fair, current],
                        borderColor: '#C9A227',
                        backgroundColor: 'rgba(201, 162, 39, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 6,
                        pointBackgroundColor: ['#2ecc71', '#3498db', '#f39c12', '#e74c3c'],
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ‚Çπ' + context.parsed.y.toFixed(2);
                                }
                            }
                        }
                    },
                    scales: {
                        x: { ticks: { color: '#999', font: { size: 11 } }, grid: { color: '#2a2a2a' } },
                        y: { 
                            ticks: { 
                                color: '#999',
                                callback: function(value) { return '‚Çπ' + value; }
                            }, 
                            grid: { color: '#2a2a2a' }
                        }
                    }
                }
            });
        }
        
        function toggleFAQ(element) {
            const answer = element.nextElementSibling;
            const isActive = answer.classList.contains('active');
            document.querySelectorAll('.faq-answer').forEach(a => a.classList.remove('active'));
            if (!isActive) answer.classList.add('active');
        }
        
        function toggleMobileMenu() {
            const toggle = document.querySelector('.mobile-menu-toggle');
            const dropdown = document.getElementById('mobileNavDropdown');
            if (toggle && dropdown) {
                toggle.classList.toggle('active');
                dropdown.classList.toggle('active');
            }
        }
    </script>
<script src="common-footer.js" defer></script>
</body>
</html>
